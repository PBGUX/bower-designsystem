{"version":3,"file":"pb-design-system.umd.js.map","sources":["ng://pb-design-system/lib/dataviz/dataviz.service.ts","ng://pb-design-system/lib/dataviz/dataviz-pie.component.ts","ng://pb-design-system/lib/dataviz/dataviz-bar.component.ts","ng://pb-design-system/lib/dataviz/dataviz-line.component.ts","ng://pb-design-system/lib/dataviz/dataviz-gauge.component.ts","ng://pb-design-system/lib/dataviz/dataviz-sparkline.component.ts","ng://pb-design-system/lib/dataviz/dataviz-stacked-bar.component.ts","ng://pb-design-system/lib/dataviz/dataviz-metric-indicator.component.ts","ng://pb-design-system/lib/dataviz/dataviz-metric-block.component.ts","ng://pb-design-system/lib/dataviz/dataviz.module.ts","ng://pb-design-system/lib/header-shadow/header-shadow.directive.ts","ng://pb-design-system/lib/header-shadow/header-shadow.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PbdsDatavizService {\n  private colors = {\n    mono: ['#00436e', '#005a93', '#0072b8', '#66aad4', '#cce3f1', '#e5f1f8'],\n    theme: [\n      '#3e53a4',\n      '#cf0989',\n      '#009bdf',\n      '#ee6b0b',\n      '#edb700',\n      '#a03f9b',\n      '#00b140',\n      '#66c3ec',\n      '#c0c0c0',\n      '#f5a66d',\n      '#8b98c8',\n      '#aad88f'\n    ]\n  };\n\n  constructor() {}\n\n  getColors = mono => {\n    return mono ? this.colors.mono : this.colors.theme;\n  };\n\n  createGradientDefs = (svg, mono) => {\n    const colors = mono ? [this.colors.mono[2]] : this.colors.theme;\n\n    for (let i = 0; i < colors.length; i++) {\n      const color = mono ? this.colors.mono[2] : this.colors.theme[i];\n\n      const gradient = svg\n        .append('defs')\n        .append('linearGradient')\n        .attr('id', `gradient-${color.replace('#', '')}`)\n        .attr('x1', '0')\n        .attr('y1', '0')\n        .attr('x2', '0')\n        .attr('y2', '1')\n        .attr('spreadMethod', 'pad');\n\n      gradient\n        .append('stop')\n        .attr('offset', '0%')\n        .attr('stop-color', color)\n        .attr('stop-opacity', '1'); // top of bar will be full opacity\n\n      gradient\n        .append('stop')\n        .attr('offset', '100%')\n        .attr('stop-color', color)\n        .attr('stop-opacity', '.3'); // bottom of bar will be .3 opacity\n    }\n\n    return colors;\n  };\n\n  createGlowFilter = svg => {\n    // add a new definition\n    const glow = svg\n      .append('defs')\n      .append('filter')\n      .attr('id', 'glow')\n      .attr('width', '200%')\n      .attr('height', '200%');\n\n    glow\n      .append('feGaussianBlur')\n      .attr('in', 'SourceGraphic')\n      .attr('stdDeviation', 4);\n\n    // build two dropshadows with different intensities\n    const feOffsets = [\n      {\n        dy: 2,\n        slope: 0.2\n      },\n      {\n        dy: 5,\n        slope: 0.05\n      }\n    ];\n\n    for (let i = 0; i < feOffsets.length; i++) {\n      glow\n        .append('feOffset')\n        .attr('result', 'offsetBlur' + i)\n        .attr('dx', 0)\n        .attr('dy', feOffsets[i].dy);\n    }\n\n    for (let y = 0; y < feOffsets.length; y++) {\n      glow\n        .append('feComponentTransfer')\n        .attr('result', 'coloredBlur' + y)\n        .attr('in', 'offsetBlur' + y)\n        .append('feFuncA')\n        .attr('type', 'linear')\n        .attr('slope', feOffsets[y].slope);\n    }\n\n    let merge = glow.append('feMerge');\n\n    merge.append('feMergeNode').attr('in', 'SourceGraphic');\n\n    for (let x = 0; x < feOffsets.length; x++) {\n      merge.append('feMergeNode').attr('in', 'coloredBlur' + x);\n    }\n  };\n}\n","import {\n  Component,\n  OnInit,\n  Input,\n  ElementRef,\n  HostBinding,\n  OnChanges,\n  SimpleChanges,\n  Output,\n  EventEmitter,\n  ChangeDetectionStrategy,\n  OnDestroy\n} from '@angular/core';\n\nimport {\n  select as d3_select,\n  scaleOrdinal as d3_scaleOrdinal,\n  pie as d3_pie,\n  arc as d3_arc,\n  interpolate as d3_interpolate,\n  mouse as d3_mouse,\n  format as d3_format,\n  event as d3_event,\n  timeFormat as d3_timeFormat,\n  isoParse as d3_isoParse\n} from 'd3';\n\nimport { PbdsDatavizService } from './dataviz.service';\nimport { PbdsDatavizPie } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-pie',\n  template: ``,\n  styleUrls: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizPieComponent implements OnInit, OnChanges, OnDestroy {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-pie')\n  pieClass = true;\n\n  @Input()\n  data: Array<PbdsDatavizPie>;\n\n  @Input()\n  width = 300;\n\n  @Input()\n  type: 'pie' | 'donut' = 'pie';\n\n  @Input()\n  monochrome = false;\n\n  @Input()\n  legendLabelFormatType: 'time' = null;\n\n  @Input()\n  legendLabelFormatString = '';\n\n  @Input()\n  legendValueFormatString = '';\n\n  @Input()\n  tooltipLabelFormatType: 'time' = null;\n\n  @Input()\n  tooltipLabelFormatString = '';\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Output()\n  hovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  clicked: EventEmitter<object> = new EventEmitter<object>();\n\n  private currentData = [];\n  private height;\n  private chart;\n  private margin;\n  private colors;\n  private colorRange;\n  private arc;\n  private arcZoom;\n  private svg;\n  private pie;\n  private legend;\n  private legendLabelFormat;\n  private legendValueFormat;\n  private innerRadius;\n  private anglePad;\n  private outerRadius;\n  private tooltip;\n  private tooltipLabelFormat;\n  private tooltipValueFormat;\n\n  constructor(private _dataviz: PbdsDatavizService, private _element: ElementRef) {}\n\n  ngOnInit() {\n    this.margin = { top: 10, right: 10, bottom: 10, left: 10 };\n    this.width = this.width - this.margin.left - this.margin.right;\n    this.height = this.width - this.margin.top - this.margin.bottom;\n    this.colors = this._dataviz.getColors(this.monochrome);\n    this.innerRadius = Math.min(this.width, this.height) / 2.5;\n    this.outerRadius = Math.min(this.width, this.height) / 2;\n    this.arcZoom = 10;\n    this.anglePad = 0.02;\n    this.legendValueFormat = d3_format(this.legendValueFormatString);\n    this.tooltipValueFormat = d3_format(this.tooltipValueFormatString);\n\n    switch (this.legendLabelFormatType) {\n      case 'time':\n        this.legendLabelFormat = d3_timeFormat(this.legendLabelFormatString);\n        break;\n      default:\n        this.legendLabelFormat = null;\n        break;\n    }\n\n    switch (this.tooltipLabelFormatType) {\n      case 'time':\n        this.tooltipLabelFormat = d3_timeFormat(this.tooltipLabelFormatString);\n        break;\n      default:\n        this.tooltipLabelFormat = null;\n        break;\n    }\n\n    this.colorRange = d3_scaleOrdinal()\n      .range(this.colors)\n      .domain(this.data.map(c => c.label));\n\n    if (this.type === 'pie') {\n      this.innerRadius = 0;\n      this.anglePad = 0;\n    }\n\n    this.pie = d3_pie()\n      .padAngle(this.anglePad)\n      .value((d: any) => d.value)\n      .sort(null);\n\n    this.arc = d3_arc()\n      .padRadius(this.outerRadius)\n      .innerRadius(this.innerRadius);\n\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', this.width)\n      .attr('height', this.height)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr(\n        'viewBox',\n        `-${this.width / 2 + this.margin.left} -${this.height / 2 + this.margin.top} ${this.width +\n          this.margin.left +\n          this.margin.right} ${this.height + this.margin.top + this.margin.bottom}`\n      );\n\n    this.legend = this.chart.append('ul').attr('class', 'legend legend-right');\n\n    this.tooltip = this.chart\n      .append('div')\n      .style('opacity', 0)\n      .attr('class', 'pbds-tooltip')\n      .attr('aria-hidden', 'true');\n\n    this.updateChart();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.updateChart();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  updateChart = () => {\n    let paths = this.svg.selectAll('path').data(this.pie(this.data));\n\n    paths.exit().remove();\n\n    //update existing items\n    paths\n      .each((d: any) => (d.outerRadius = this.outerRadius))\n      .transition()\n      .duration(500)\n      .attrTween('d', this.arcTween);\n\n    // paths on enter\n    let enterPaths = paths\n      .enter()\n      .append('path')\n      .each((d: any) => (d.outerRadius = this.outerRadius))\n      .attr('d', this.arc)\n      .attr('fill', (d: any) => this.colorRange(d.data.label))\n      .attr('class', 'slice')\n      .each((d, i, nodes) => {\n        this.currentData.splice(i, 1, d);\n      });\n\n    if (this.type === 'pie') {\n      enterPaths\n        .style('stroke', '#fff')\n        .style('stroke-width', 2)\n        .style('stroke-alignment', 'inner');\n    }\n\n    let legendItem = this.chart\n      .select('.legend')\n      .selectAll('.legend-item')\n      .data(this.data);\n\n    legendItem.exit().remove();\n\n    // update existing items\n    legendItem.select('.legend-label').html((d: any) => {\n      switch (this.legendLabelFormatType) {\n        case 'time':\n          const parsedTime = d3_isoParse(d.label);\n          return this.legendLabelFormat(parsedTime);\n\n        default:\n          return d.label;\n      }\n    });\n\n    legendItem.select('.legend-value').html((d: any) => this.legendValueFormat(d.value));\n\n    // legend items on enter\n    let enterLegendItem = legendItem\n      .enter()\n      .append('li')\n      .attr('tabindex', 0)\n      .attr('class', 'legend-item');\n\n    enterLegendItem\n      .append('span')\n      .attr('class', 'legend-key')\n      .style('background-color', (d: any) => this.colorRange(d.label));\n\n    const legendDescription = enterLegendItem.append('span').attr('class', 'legend-description');\n\n    legendDescription\n      .append('span')\n      .attr('class', 'legend-label')\n      .html((d: any) => {\n        switch (this.legendLabelFormatType) {\n          case 'time':\n            const parsedTime = d3_isoParse(d.label);\n            return this.legendLabelFormat(parsedTime);\n\n          default:\n            return d.label;\n        }\n      });\n\n    legendDescription\n      .append('span')\n      .attr('class', 'legend-value')\n      .html((d: any) => this.legendValueFormat(d.value));\n\n    enterLegendItem\n      .on('mouseover focus', (data, index, nodes) => {\n        this.legendMouseOverFocus(data, index, nodes);\n        this.pathMouseOver(d3_event, data, index, nodes);\n      })\n      .on('mouseout blur', (data, index, nodes) => {\n        this.legendMouseOutBlur(data, index, nodes);\n        this.pathMouseOut(data, index, nodes);\n      })\n      .on('click', (data, index, nodes) => {\n        this.clicked.emit(data);\n      });\n\n    enterPaths\n      .on('mouseover', (data, index, nodes) => {\n        this.pathMouseOver(d3_event, data, index, nodes);\n        this.tooltipShow(this.chart.node(), data);\n      })\n      .on('mousemove', (data, index, nodes) => {\n        this.tooltipMove(this.chart.node());\n      })\n      .on('mouseout', (data, index, nodes) => {\n        this.pathMouseOut(data, index, nodes);\n        this.tooltipHide();\n      })\n      .on('click', (data, index, nodes) => {\n        this.pathClick(d3_event, data, index, nodes);\n      });\n  };\n\n  private arcTween = (data, index, nodes) => {\n    // console.log('ARGS: ', data, index, nodes);\n    const i = d3_interpolate(this.currentData[index], data);\n\n    this.currentData[index] = i(1);\n    return t => this.arc(i(t));\n  };\n\n  private legendMouseOverFocus = (data, index, nodes) => {\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n  };\n\n  private legendMouseOutBlur = (data, index, nodes) => {\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n  };\n\n  private pathMouseOver = (event, data, index, nodes) => {\n    let slices = this.chart.selectAll('.slice');\n    let slice = slices.filter((d, i) => i === index);\n\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    slices.filter((d, i) => i !== index).classed('inactive', true);\n\n    slice\n      .transition()\n      .duration(300)\n      .delay(0)\n      .attrTween('d', (d: any) => {\n        let i = d3_interpolate(d.outerRadius, this.outerRadius + this.arcZoom);\n        return t => {\n          d.outerRadius = i(t);\n          return this.arc(d);\n        };\n      });\n\n    this.hovered.emit({\n      event: event,\n      data: data.data ? data.data : data // legend hover data is different than slice hover data\n    });\n  };\n\n  private pathMouseOut = (data, index, value) => {\n    let slices = this.chart.selectAll('.slice');\n    let slice = slices.filter((d, i) => i === index);\n\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => i !== index)\n      .classed('inactive', false);\n\n    slices.classed('inactive', false);\n\n    slice\n      .transition()\n      .duration(300)\n      .delay(0)\n      .attrTween('d', (d: any) => {\n        let i = d3_interpolate(d.outerRadius, this.outerRadius);\n        return t => {\n          d.outerRadius = i(t);\n          return this.arc(d);\n        };\n      });\n  };\n\n  private pathClick = (event, data, index, nodes) => {\n    this.clicked.emit({\n      event: event,\n      data: data.data\n    });\n  };\n\n  private tooltipShow = (node, data) => {\n    this.tooltipSetPosition(node);\n\n    let percentage = (data.endAngle - data.startAngle) / (2 * Math.PI);\n    let label;\n\n    switch (this.tooltipLabelFormatType) {\n      case 'time':\n        const parsedTime = d3_isoParse(data.data.label);\n        label = this.tooltipLabelFormat(parsedTime);\n        break;\n\n      default:\n        label = data.data.label;\n    }\n\n    this.tooltip.html(\n      `\n        <div class=\"tooltip-label\">${label}</div>\n        <div class=\"tooltip-value\">${this.tooltipValueFormat(percentage)}</div>\n      `\n    );\n\n    this.tooltip.style('opacity', 1);\n  };\n\n  private tooltipMove = node => {\n    this.tooltipSetPosition(node);\n  };\n\n  private tooltipHide = () => {\n    this.tooltip.style('opacity', 0);\n  };\n\n  private tooltipSetPosition = node => {\n    let coordinates = d3_mouse(node);\n\n    this.tooltip.style('left', `${coordinates[0] + 16}px`);\n    this.tooltip.style('top', `${coordinates[1] + 16}px`);\n  };\n}\n","import {\n  Component,\n  OnInit,\n  OnChanges,\n  Input,\n  Output,\n  EventEmitter,\n  ElementRef,\n  HostBinding,\n  OnDestroy,\n  SimpleChanges,\n  ChangeDetectionStrategy\n} from '@angular/core';\n\nimport { ViewportScroller } from '@angular/common';\n\nimport {\n  select as d3_select,\n  isoParse as d3_isoParse,\n  timeFormat as d3_timeFormat,\n  format as d3_format,\n  scaleOrdinal as d3_scaleOrdinal,\n  scaleBand as d3_scaleBand,\n  scaleLinear as d3_scaleLinear,\n  min as d3_min,\n  max as d3_max,\n  axisBottom as d3_axisBottom,\n  axisLeft as d3_axisLeft,\n  event as d3_event\n} from 'd3';\n\nimport { PbdsDatavizService } from './dataviz.service';\nimport { PbdsDatavizBar } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-bar',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizBarComponent implements OnInit, OnDestroy, OnChanges {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-bar')\n  barClass = true;\n\n  @Input()\n  data: PbdsDatavizBar[];\n\n  @Input()\n  width = 306;\n\n  @Input()\n  height = 400;\n\n  @Input()\n  type: 'low' | 'medium' | 'high' | 'debug' = 'medium'; // debug to show all chart options\n\n  @Input()\n  singleSeries = false;\n\n  @Input()\n  xAxisFormatType: 'number' | 'time' = null;\n\n  @Input()\n  xAxisFormatString = '';\n\n  @Input()\n  yAxisFormatType: 'number' | 'time' = null;\n\n  @Input()\n  yAxisFormatString = '';\n\n  @Input()\n  yAxisTicks = 5;\n\n  @Input()\n  yAxisMinBuffer = 0.01;\n\n  @Input()\n  yAxisMaxBuffer = 0.01;\n\n  @Input()\n  hideLegend = false;\n\n  @Input()\n  legendWidth = 105 + 28; // hardcoded legend width + left margin, do not document until feedback\n\n  @Input()\n  legendPosition: 'right' | 'bottom' = 'right';\n\n  @Input()\n  legendLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  legendLabelFormatString = '';\n\n  @Input()\n  tooltipLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipLabelFormatString = '';\n\n  @Input()\n  tooltipValueFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Input()\n  marginTop = 10; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginRight = 0; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginBottom = 30; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginLeft = 55; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  threshold = null;\n\n  @Input()\n  average = null;\n\n  @Output()\n  hovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  clicked: EventEmitter<object> = new EventEmitter<object>();\n\n  private chart;\n  private svg;\n  private margin;\n  private colorRange;\n  private hideGrayBars: boolean;\n  private yThreshold;\n  private yAverage;\n  private xAxisScale;\n  private xAxisCall;\n  private xAxis;\n  private xAxisFormat;\n  private yAxisScale;\n  private yAxisCall;\n  private yAxis;\n  private yAxisFormat;\n  private xGrid;\n  private xGridCall;\n  private yGrid;\n  private yGridCall;\n  private xAxisTickSize: number;\n  private xAxisTickSizeOuter: number;\n  private yAxisTickSize: number;\n  private yAxisTickSizeOuter: number;\n  private hideXAxis: boolean;\n  private hideYAxis: boolean;\n  private hideXAxisDomain: boolean;\n  private hideYAxisDomain: boolean;\n  private hideXAxisZero: boolean;\n  private hideYAxisZero: boolean;\n  private hideXGrid: boolean;\n  private hideYGrid: boolean;\n  private hideXAxisTicks: boolean;\n  private hideYAxisTicks: boolean;\n  private legendLabelFormat;\n  private tooltip;\n  private hideTooltip: boolean;\n  private hideTooltipLabel: boolean;\n  private tooltipValueFormat;\n  private tooltipLabelFormat;\n\n  constructor(private _dataviz: PbdsDatavizService, private _element: ElementRef, private _scroll: ViewportScroller) {}\n\n  ngOnInit() {\n    this.margin = {\n      top: +this.marginTop,\n      right: +this.marginRight,\n      bottom: +this.marginBottom,\n      left: +this.marginLeft\n    };\n\n    switch (this.xAxisFormatType) {\n      case 'number':\n        this.xAxisFormat = d3_format(this.xAxisFormatString);\n        break;\n      case 'time':\n        this.xAxisFormat = d3_timeFormat(this.xAxisFormatString);\n        break;\n    }\n\n    switch (this.yAxisFormatType) {\n      case 'number':\n        this.yAxisFormat = d3_format(this.yAxisFormatString);\n        break;\n      case 'time':\n        this.yAxisFormat = d3_timeFormat(this.yAxisFormatString);\n        break;\n    }\n\n    switch (this.legendLabelFormatType) {\n      case 'number':\n        this.legendLabelFormat = d3_format(this.legendLabelFormatString);\n        break;\n      case 'time':\n        this.legendLabelFormat = d3_timeFormat(this.legendLabelFormatString);\n        break;\n      default:\n        this.legendLabelFormat = null;\n        break;\n    }\n\n    switch (this.tooltipLabelFormatType) {\n      case 'number':\n        this.tooltipLabelFormat = d3_format(this.tooltipLabelFormatString);\n        break;\n      case 'time':\n        this.tooltipLabelFormat = d3_timeFormat(this.tooltipLabelFormatString);\n        break;\n      default:\n        this.tooltipLabelFormat = null;\n        break;\n    }\n\n    switch (this.tooltipValueFormatType) {\n      case 'number':\n        this.tooltipValueFormat = d3_format(this.tooltipValueFormatString);\n        break;\n      case 'time':\n        this.tooltipValueFormat = d3_timeFormat(this.tooltipValueFormatString);\n        break;\n      default:\n        this.tooltipValueFormat = null;\n    }\n\n    // defaults for all chart types\n    this.hideGrayBars = false;\n    this.hideXAxis = false;\n    this.hideYAxis = false;\n    this.hideXAxisZero = false;\n    this.hideYAxisZero = false;\n    this.hideXGrid = false;\n    this.hideYGrid = false;\n    this.hideXAxisDomain = false;\n    this.hideYAxisDomain = false;\n    this.hideTooltip = false;\n    this.hideXAxisTicks = false;\n    this.hideYAxisTicks = false;\n    this.xAxisTickSize = 8;\n    this.xAxisTickSizeOuter = 0;\n    this.yAxisTickSize = 8;\n    this.yAxisTickSizeOuter = 0;\n    this.hideTooltipLabel = false;\n\n    if (this.type !== 'debug') {\n      // set type defaults\n      switch (this.type) {\n        case 'low':\n          this.hideGrayBars = true;\n          this.hideXAxis = !this.hideLegend;\n          this.hideXAxisTicks = true;\n          this.hideXGrid = true;\n          this.hideYAxisDomain = false;\n          this.hideYAxisTicks = true;\n          this.legendPosition = 'bottom';\n          this.hideTooltipLabel = true;\n          break;\n\n        case 'medium':\n          this.hideXAxisDomain = true;\n          this.hideXAxis = !this.hideLegend;\n          this.hideXGrid = true;\n          this.hideXAxisTicks = true;\n          this.hideYAxisDomain = true;\n          this.hideYAxisTicks = true;\n          this.hideYGrid = true;\n          this.hideTooltipLabel = true;\n          break;\n\n        case 'high':\n          this.hideXAxis = true;\n          this.hideXAxisDomain = true;\n          this.hideXGrid = true;\n          this.hideYAxisDomain = true;\n          this.hideYAxisTicks = true;\n          this.hideYGrid = true;\n          this.hideLegend = true;\n          this.hideTooltipLabel = false;\n          break;\n      }\n\n      // single series overrides\n      if (this.singleSeries) {\n        this.hideLegend = true;\n        this.hideXAxis = true;\n        this.hideXGrid = true;\n        this.hideTooltipLabel = false;\n      }\n    }\n\n    // adjust margin if xAxis hidden\n    if (this.hideXAxis) this.margin.bottom = 10; // need small margin for yAxis with 0 tick label\n\n    if (!this.hideLegend && this.legendPosition === 'right') {\n      this.width = +this.width - +this.legendWidth;\n    }\n\n    // create the chart\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    // create chart svg\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', +this.width)\n      .attr('height', +this.height + this.margin.top + this.margin.bottom)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr(\n        'viewBox',\n        `-${this.margin.left} -${this.margin.top} ${+this.width} ${+this.height + this.margin.top + this.margin.bottom}`\n      );\n\n    // build color ranges\n    this.colorRange = d3_scaleOrdinal().range(this._dataviz.createGradientDefs(this.svg, this.singleSeries));\n\n    // X AXIS\n    this.xAxisScale = d3_scaleBand()\n      .domain(this.data.map(d => d.label))\n      .rangeRound([0, this.width - this.margin.left])\n      .align(0);\n\n    // add padding to the scale for gray bars\n    !this.hideGrayBars\n      ? this.xAxisScale.paddingInner(0.1).paddingOuter(0)\n      : this.xAxisScale.paddingInner(0).paddingOuter(0);\n\n    this.xAxisCall = d3_axisBottom(this.xAxisScale)\n      .tickSize(this.xAxisTickSize)\n      .tickSizeOuter(this.xAxisTickSizeOuter)\n      .tickFormat(this.xAxisFormatter);\n\n    this.xAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-x')\n      .attr('transform', `translate(0, ${this.height})`)\n      .classed('axis-hidden', this.hideXAxis)\n      .classed('axis-zero-hidden', this.hideXAxisZero)\n      .classed('axis-domain-hidden', this.hideXAxisDomain)\n      .classed('axis-ticks-hidden', this.hideXAxisTicks)\n      .call(this.xAxisCall);\n\n    // X GRIDLINES\n    if (!this.hideXGrid) {\n      this.xGridCall = d3_axisBottom(this.xAxisScale).tickSize(-this.height);\n\n      this.xGrid = this.svg\n        .append('g')\n        .attr('class', 'grid grid-x')\n        .classed('grid-zero-hidden', this.hideXAxisZero)\n        .attr('transform', `translate(0, ${this.height})`)\n        .call(this.xGridCall);\n    }\n\n    // Y AXIS\n    this.yAxisScale = d3_scaleLinear()\n      .domain([\n        d3_min(this.data, d => d.value - d.value * +this.yAxisMinBuffer),\n        d3_max(this.data, d => d.value + d.value * +this.yAxisMaxBuffer)\n      ])\n      .nice()\n      .rangeRound([this.height, 0]);\n\n    this.yAxisCall = d3_axisLeft(this.yAxisScale)\n      .ticks(this.yAxisTicks)\n      .tickSize(this.yAxisTickSize)\n      .tickSizeOuter(this.yAxisTickSizeOuter)\n      .tickFormat(this.yAxisFormatter);\n\n    this.yAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-y')\n      .classed('axis-hidden', this.hideYAxis)\n      .classed('axis-zero-hidden', this.hideYAxisZero)\n      .classed('axis-domain-hidden', this.hideYAxisDomain)\n      .classed('axis-ticks-hidden', this.hideYAxisTicks)\n      .call(this.yAxisCall);\n\n    // Y GRIDLINES\n    if (!this.hideYGrid) {\n      this.yGridCall = d3_axisLeft(this.yAxisScale)\n        .ticks(this.yAxisTicks)\n        .tickSize(-this.width + this.margin.left + this.margin.right);\n\n      this.yGrid = this.svg\n        .append('g')\n        .attr('class', 'grid grid-y')\n        .classed('grid-zero-hidden', this.hideYAxisZero)\n        .attr('transform', `translate(0, 0)`)\n        .call(this.yGridCall);\n    }\n\n    // Y THRESHOLD\n    if (this.threshold) {\n      this.yThreshold = this.svg\n        .append('line')\n        .attr('class', 'threshold')\n        .attr('x2', +this.width)\n        .attr('transform', `translate(0,  ${this.yAxisScale(+this.threshold)})`);\n    }\n\n    // Y AVERAGE\n    if (this.average) {\n      this.yAverage = this.svg\n        .append('line')\n        .attr('class', 'average')\n        .attr('x2', +this.width)\n        .attr('transform', `translate(0,  ${this.yAxisScale(+this.average)})`);\n    }\n\n    // TOOLTIP\n    if (!this.hideTooltip) {\n      this.tooltip = d3_select('body')\n        .append('div')\n        .attr('class', 'pbds-tooltip south')\n        .style('opacity', 0)\n        .attr('aria-hidden', 'true'); // hide tooltip for accessibility\n    }\n\n    // add legend classes\n    if (!this.hideLegend) {\n      this.chart.classed('pbds-chart-legend-bottom', this.legendPosition === 'bottom' ? true : false);\n      this.chart.append('ul').attr('class', `legend legend-${this.legendPosition}`);\n    }\n\n    this.updateChart();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.updateChart();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  updateChart = () => {\n    // update the xScale\n    this.xAxisScale.domain(this.data.map(d => d.label));\n\n    // update the yScale\n    this.yAxisScale\n      .domain([\n        d3_min(this.data, d => d.value - d.value * +this.yAxisMinBuffer),\n        d3_max(this.data, d => d.value + d.value * +this.yAxisMaxBuffer)\n      ])\n      .rangeRound([this.height, 0])\n      .nice();\n\n    this.xAxis\n      .transition()\n      .duration(1000)\n      .call(this.xAxisCall);\n\n    this.yAxis\n      .transition()\n      .duration(1000)\n      .call(this.yAxisCall);\n\n    // update the grids\n    if (!this.hideXGrid) {\n      this.xGrid\n        .transition()\n        .duration(1000)\n        .call(this.xGridCall);\n    }\n\n    if (!this.hideYGrid) {\n      this.yGrid\n        .transition()\n        .duration(1000)\n        .call(this.yGridCall);\n    }\n\n    if (!this.hideGrayBars) {\n      // rebind data to groups\n      let group = this.svg.selectAll('.bar-group').data(this.data);\n\n      // remove bars\n      group.exit().remove();\n\n      // update gray bars\n      group\n        .select('.gray-bar')\n        .transition()\n        .duration(1000)\n        .attr('x', d => this.xAxisScale(d.label))\n        .attr('width', this.xAxisScale.bandwidth());\n\n      // update the existing bars\n      group\n        .select('.bar')\n        .transition()\n        .duration(1000)\n        .attr('x', d => this.xAxisScale(d.label) + this.xAxisScale.bandwidth() / 4)\n        .attr('width', this.xAxisScale.bandwidth() / 2)\n        .attr('height', d => this.height - this.yAxisScale(d.value))\n        .attr('y', d => this.yAxisScale(d.value));\n\n      // add group on enter\n      const groupEnter = group\n        .enter()\n        .append('g')\n        .attr('class', 'bar-group');\n\n      // add gray bars on enter\n      groupEnter\n        .append('rect')\n        .attr('class', 'gray-bar')\n        .attr('rx', 0)\n        .attr('height', 0)\n        .attr('x', d => this.xAxisScale(d.label))\n        .attr('width', this.xAxisScale.bandwidth())\n        .transition()\n        // .delay(1000)\n        .attr('height', this.height)\n        .attr('width', this.xAxisScale.bandwidth());\n\n      // add bars on enter\n      groupEnter\n        .append('rect')\n        .attr('class', 'bar')\n        .attr('rx', 2)\n        .attr('fill', d => `url(#gradient-${this.colorRange(d.label).substr(1)})`) // removes hash to prevent safari bug;\n        .attr('x', d => this.xAxisScale(d.label) + this.xAxisScale.bandwidth() / 4)\n        .attr('width', this.xAxisScale.bandwidth() / 2)\n        .attr('y', this.height)\n        .attr('height', 0)\n        .transition()\n        .duration(1000)\n        // .delay(1000)\n        .attr('y', d => this.yAxisScale(d.value))\n        .attr('height', d => this.height - this.yAxisScale(d.value))\n        .attr('data-color', d => this.colorRange(d.label));\n\n      groupEnter\n        .select('.bar')\n        .on('mouseover focus', (data, index, nodes) => this.barMouseOverFocus(d3_event, data, index, nodes))\n        .on('mouseout blur', (data, index, nodes) => this.barMouseOutBlur())\n        .on('click', (data, index, nodes) => this.barMouseClick(d3_event, data, index, nodes));\n    } else {\n      // rebind data to groups\n      let group = this.svg.selectAll('.bar-group').data(this.data);\n\n      // remove bars\n      group.exit().remove();\n\n      // update the existing bars\n      group\n        .select('.bar')\n        .attr('x', d => this.xAxisScale(d.label) + this.xAxisScale.bandwidth() / 5.5)\n        .attr('width', this.xAxisScale.bandwidth() / 1.5)\n        .transition()\n        .duration(1000)\n        .attr('y', d => this.yAxisScale(d.value))\n        .attr('height', d => this.height - this.yAxisScale(d.value));\n\n      // add group on enter\n      const groupEnter = group\n        .enter()\n        .append('g')\n        .attr('class', 'bar-group');\n\n      // add bars on enter\n      groupEnter\n        .append('rect')\n        .attr('class', 'bar')\n        .attr('rx', 2)\n        .attr('fill', d => `url(#gradient-${this.colorRange(d.label).substr(1)})`) // removes hash to prevent safari bug;\n        .attr('x', d => this.xAxisScale(d.label) + this.xAxisScale.bandwidth() / 5.5)\n        .attr('width', this.xAxisScale.bandwidth() / 1.5)\n        .attr('y', this.height)\n        .attr('height', 0)\n        .transition()\n        .duration(1000)\n        .attr('y', d => this.yAxisScale(d.value))\n        .attr('height', d => this.height - this.yAxisScale(d.value))\n        .attr('data-color', d => this.colorRange(d.label));\n\n      groupEnter\n        .select('.bar')\n        .on('mouseover focus', (data, index, nodes) => this.barMouseOverFocus(d3_event, data, index, nodes))\n        .on('mouseout blur', () => this.barMouseOutBlur())\n        .on('click', (data, index, nodes) => this.barMouseClick(d3_event, data, index, nodes));\n    }\n\n    if (!this.hideLegend) {\n      let legendItem = this.chart\n        .select('.legend')\n        .selectAll('.legend-item')\n        .data(this.data);\n\n      legendItem.exit().remove();\n\n      // update existing items\n      legendItem.select('.legend-label').html(d => {\n        // return this.legendLabelFormat === null ? d.label : this.legendLabelFormat(d.label);\n        switch (this.legendLabelFormatType) {\n          case 'number':\n            return this.legendLabelFormat(d.label);\n\n          case 'time':\n            const parsedTime = d3_isoParse(d.label);\n            return this.legendLabelFormat(parsedTime);\n\n          default:\n            return d.label;\n        }\n      });\n\n      // legend items on enter\n      let enterLegendItem = legendItem\n        .enter()\n        .append('li')\n        .attr('class', 'legend-item');\n\n      enterLegendItem\n        .append('span')\n        .attr('class', 'legend-key')\n        .style('background-color', d => this.colorRange(d.label));\n\n      enterLegendItem\n        .append('span')\n        .attr('class', 'legend-label')\n        .html(d => {\n          // return this.legendLabelFormat === null ? d.label : this.legendLabelFormat(d.label);\n          switch (this.legendLabelFormatType) {\n            case 'number':\n              return this.legendLabelFormat(d.label);\n\n            case 'time':\n              const parsedTime = d3_isoParse(d.label);\n              return this.legendLabelFormat(parsedTime);\n\n            default:\n              return d.label;\n          }\n        });\n\n      enterLegendItem\n        .on('mouseover', (data, index, nodes) => this.legendMouseOver(d3_event, data, index, nodes))\n        .on('mouseout', () => this.legendMouseOut())\n        .on('click', (data, index, nodes) => this.legendMouseClick(d3_event, data, index, nodes));\n    }\n\n    if (this.threshold) {\n      this.yThreshold\n        .raise()\n        .transition()\n        .duration(1000)\n        .attr('transform', `translate(0,  ${this.yAxisScale(+this.threshold)})`);\n    }\n\n    if (this.average) {\n      this.yAverage\n        .raise()\n        .transition()\n        .duration(1000)\n        .attr('transform', `translate(0,  ${this.yAxisScale(+this.average)})`);\n    }\n  };\n\n  barMouseOverFocus = (event, data, index, nodes) => {\n    this.chart\n      .selectAll('.bar-group')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    const bar = this.chart\n      .selectAll('.bar-group')\n      .filter((d, i) => i === index)\n      .select('.bar');\n\n    const barColor = bar.attr('data-color');\n\n    bar.style('fill', () => barColor);\n\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    this.tooltipShow(data, nodes.filter((d, i) => i === index));\n\n    this.hovered.emit({ event, data });\n  };\n\n  barMouseOutBlur = () => {\n    this.chart\n      .selectAll('.bar-group')\n      .classed('inactive', false)\n      .select('.bar')\n      .style('fill', null);\n\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n\n    this.tooltipHide();\n  };\n\n  barMouseClick = (event, data, index, nodes) => {\n    this.clicked.emit({ event, data });\n  };\n\n  legendMouseOver = (event, data, index, nodes) => {\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    this.chart\n      .selectAll('.bar-group')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    const bar = this.chart\n      .selectAll('.bar-group')\n      .filter((d, i) => i === index)\n      .select('.bar');\n\n    const barColor = bar.attr('data-color');\n\n    bar.style('fill', () => barColor);\n\n    this.tooltipShow(data, this.chart.selectAll('.bar').filter((d, i) => i === index)._groups[0]); // TODO: find better way than using _groups\n\n    this.hovered.emit({ event, data });\n  };\n\n  legendMouseOut = () => {\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n\n    this.chart\n      .selectAll('.bar-group')\n      .classed('inactive', false)\n      .select('.bar')\n      .style('fill', null);\n\n    this.tooltipHide();\n  };\n\n  legendMouseClick = (event, data, index, nodes) => {\n    this.clicked.emit({ event, data });\n  };\n\n  private tooltipShow = (data, node) => {\n    let dimensions = node[0].getBoundingClientRect();\n    let scroll = this._scroll.getScrollPosition();\n    let label;\n\n    switch (this.tooltipLabelFormatType) {\n      case 'number':\n        label = this.tooltipLabelFormat(data.label);\n        break;\n\n      case 'time':\n        const parsedTime = d3_isoParse(data.label);\n        label = this.tooltipLabelFormat(parsedTime);\n        break;\n\n      default:\n        label = data.label;\n    }\n    let value =\n      this.tooltipValueFormat === null\n        ? `<div class=\"tooltip-value\">${data.value}</div>`\n        : `<div class=\"tooltip-value\">${this.tooltipValueFormat(data.value)}</div>`;\n\n    this.tooltip.html(\n      `\n        ${this.hideTooltipLabel ? '' : `${label}`}\n        ${value}\n      `\n    );\n\n    let tooltipOffsetWidth = +this.tooltip.node().offsetWidth / 2;\n    let tooltipOffsetHeight = +this.tooltip.node().offsetHeight + 8;\n\n    this.tooltip.style('top', `${+scroll[1] + +dimensions.top - tooltipOffsetHeight}px`); //\n    this.tooltip.style('left', `${+scroll[0] + +dimensions.left - tooltipOffsetWidth + +dimensions.width / 2}px`);\n    this.tooltip.style('opacity', 1);\n  };\n\n  private tooltipHide = () => {\n    this.tooltip.style('opacity', 0);\n  };\n\n  private xAxisFormatter = item => {\n    switch (this.xAxisFormatType) {\n      case 'number':\n        return this.xAxisFormat(item);\n\n      case 'time':\n        const parseDate = d3_isoParse(item);\n        return this.xAxisFormat(parseDate);\n\n      default:\n        return item;\n    }\n  };\n\n  private yAxisFormatter = item => {\n    switch (this.yAxisFormatType) {\n      case 'number':\n        return this.yAxisFormat(item);\n\n      case 'time':\n        const parseDate = d3_isoParse(item);\n        return this.yAxisFormat(parseDate);\n\n      default:\n        return item;\n    }\n  };\n}\n","import {\n  Component,\n  OnInit,\n  OnChanges,\n  Input,\n  Output,\n  EventEmitter,\n  ElementRef,\n  HostBinding,\n  OnDestroy,\n  SimpleChanges,\n  ChangeDetectionStrategy,\n  Inject\n} from '@angular/core';\n\nimport { ViewportScroller } from '@angular/common';\n\nimport {\n  select as d3_select,\n  isoParse as d3_isoParse,\n  isoFormat as d3_isoFormat,\n  timeFormat as d3_timeFormat,\n  format as d3_format,\n  scaleOrdinal as d3_scaleOrdinal,\n  scaleTime as d3_scaleTime,\n  line as d3_line,\n  scaleLinear as d3_scaleLinear,\n  extent as d3_extent,\n  min as d3_min,\n  max as d3_max,\n  axisBottom as d3_axisBottom,\n  axisLeft as d3_axisLeft,\n  event as d3_event,\n  curveCatmullRom as d3_curveCatmullRom,\n  mouse as d3_mouse,\n  bisectLeft as d3_bisectLeft,\n  area as d3_area\n} from 'd3';\n\nimport { PbdsDatavizService } from './dataviz.service';\nimport { PbdsDatavizLine } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-line',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizLineComponent implements OnInit, OnDestroy, OnChanges {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-line')\n  lineClass = true;\n\n  @Input()\n  data: PbdsDatavizLine;\n\n  @Input()\n  width = 306;\n\n  @Input()\n  height = 400;\n\n  @Input()\n  type: 'medium' | 'high' | 'debug' = 'medium'; // debug to show all chart options\n\n  @Input()\n  area = false;\n\n  @Input()\n  xAxisFormatString = '';\n\n  @Input()\n  xAxisTicks = 6;\n\n  @Input()\n  yAxisFormatString = '';\n\n  @Input()\n  yAxisTicks = 5;\n\n  @Input()\n  yAxisMinBuffer = 0.01;\n\n  @Input()\n  yAxisMaxBuffer = 0.01;\n\n  @Input()\n  hideLegend = false;\n\n  @Input()\n  legendWidth = 105 + 28; // hardcoded legend width + left margin, do not document until feedback\n\n  @Input()\n  legendPosition: 'right' | 'bottom' = 'right';\n\n  @Input()\n  legendLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  legendLabelFormatString = '';\n\n  @Input()\n  tooltipHeadingFormatString = '';\n\n  @Input()\n  tooltipLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipLabelFormatString = '';\n\n  @Input()\n  tooltipValueFormatType: 'number' | 'time' = null;\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Input()\n  marginTop = 10; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginRight = 20; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginBottom = 30; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginLeft = 55; // hardcoded on purpose, do not document until feedback\n\n  @Output()\n  hovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  clicked: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  tooltipHovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  tooltipClicked: EventEmitter<object> = new EventEmitter<object>();\n\n  private chart;\n  private svg;\n  private mouserect;\n  private tooltipLine;\n  private margin;\n  private d3line;\n  private d3area;\n  private lineWidth;\n  private lineCurved;\n  private linePoints;\n  private colorRange;\n  private xAxisScale;\n  private xAxisCall;\n  private xAxis;\n  private xAxisFormat;\n  private yAxisScale;\n  private yAxisCall;\n  private yAxis;\n  private yAxisFormat;\n  private xGrid;\n  private xGridCall;\n  private yGrid;\n  private yGridCall;\n  private xAxisTickSize: number;\n  private xAxisTickSizeOuter: number;\n  private yAxisTickSize: number;\n  private yAxisTickSizeOuter: number;\n  private hideXAxis: boolean;\n  private hideYAxis: boolean;\n  private hideXAxisDomain: boolean;\n  private hideYAxisDomain: boolean;\n  private hideXAxisZero: boolean;\n  private hideYAxisZero: boolean;\n  private hideXGrid: boolean;\n  private hideYGrid: boolean;\n  private hideXAxisTicks: boolean;\n  private hideYAxisTicks: boolean;\n  private legendLabelFormat;\n  private tooltip;\n  private hideTooltip: boolean;\n  private tooltipHeadingFormat;\n  private tooltipValueFormat;\n  private tooltipLabelFormat;\n  private mousedata;\n\n  constructor(private _dataviz: PbdsDatavizService, private _element: ElementRef, private _scroll: ViewportScroller) {}\n\n  ngOnInit() {\n    this.margin = {\n      top: +this.marginTop,\n      right: +this.marginRight,\n      bottom: +this.marginBottom,\n      left: +this.marginLeft\n    };\n\n    this.xAxisFormat = d3_timeFormat(this.xAxisFormatString);\n\n    this.yAxisFormat = d3_format(this.yAxisFormatString);\n\n    switch (this.legendLabelFormatType) {\n      case 'number':\n        this.legendLabelFormat = d3_format(this.legendLabelFormatString);\n        break;\n      case 'time':\n        this.legendLabelFormat = d3_timeFormat(this.legendLabelFormatString);\n        break;\n      default:\n        this.legendLabelFormat = null;\n        break;\n    }\n\n    this.tooltipHeadingFormat = d3_timeFormat(this.tooltipHeadingFormatString);\n\n    switch (this.tooltipLabelFormatType) {\n      case 'number':\n        this.tooltipLabelFormat = d3_format(this.tooltipLabelFormatString);\n        break;\n      case 'time':\n        this.tooltipLabelFormat = d3_timeFormat(this.tooltipLabelFormatString);\n        break;\n      default:\n        this.tooltipLabelFormat = null;\n        break;\n    }\n\n    switch (this.tooltipValueFormatType) {\n      case 'number':\n        this.tooltipValueFormat = d3_format(this.tooltipValueFormatString);\n        break;\n      case 'time':\n        this.tooltipValueFormat = d3_timeFormat(this.tooltipValueFormatString);\n        break;\n      default:\n        this.tooltipValueFormat = null;\n    }\n\n    // defaults for all chart types\n    this.lineWidth = 3;\n    this.lineCurved = true;\n    this.linePoints = true;\n    this.hideXAxis = false;\n    this.hideYAxis = false;\n    this.hideXAxisZero = false;\n    this.hideYAxisZero = false;\n    this.hideXGrid = false;\n    this.hideYGrid = false;\n    this.hideXAxisDomain = false;\n    this.hideYAxisDomain = false;\n    this.hideTooltip = false;\n    this.hideXAxisTicks = false;\n    this.hideYAxisTicks = false;\n    this.xAxisTickSize = 8;\n    this.xAxisTickSizeOuter = 0;\n    this.yAxisTickSize = 8;\n    this.yAxisTickSizeOuter = 0;\n\n    if (this.type !== 'debug') {\n      // set type defaults\n      switch (this.type) {\n        case 'medium':\n          this.hideXGrid = true;\n          this.hideXAxisTicks = true;\n          this.hideYAxisTicks = true;\n          this.hideYGrid = true;\n          break;\n\n        case 'high':\n          this.lineWidth = 2;\n          this.lineCurved = false;\n          this.linePoints = false;\n          this.hideXAxisTicks = true;\n          this.hideYAxisTicks = true;\n          break;\n      }\n    }\n\n    // adjust margin if xAxis hidden\n    if (this.hideXAxis) this.margin.bottom = 10; // need small margin for yAxis with 0 tick label\n\n    if (!this.hideLegend && this.legendPosition === 'right') {\n      this.width = +this.width - +this.legendWidth;\n    }\n\n    // define line\n    this.d3line = d3_line()\n      .x((d: any, i) => this.xAxisScale(d3_isoParse(this.data.dates[i])))\n      .y((d: any) => this.yAxisScale(d));\n\n    // define line curve\n    if (this.lineCurved) {\n      this.d3line.curve(d3_curveCatmullRom.alpha(0.5));\n    }\n\n    // define area\n    if (this.area) {\n      this.d3area = d3_area()\n        .x((d: any, i) => this.xAxisScale(d3_isoParse(this.data.dates[i])))\n        .y0(this.height)\n        .y1((d: any, i) => this.yAxisScale(d));\n\n      if (this.lineCurved) {\n        this.d3area.curve(d3_curveCatmullRom.alpha(0.5));\n      }\n    }\n\n    // create the chart\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    // create chart svg\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', +this.width + this.margin.right)\n      .attr('height', +this.height + this.margin.top + this.margin.bottom)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr(\n        'viewBox',\n        `-${this.margin.left} -${this.margin.top} ${+this.width + this.margin.right} ${+this.height +\n          this.margin.top +\n          this.margin.bottom}`\n      );\n\n    // add rectangle to capture mouse\n    this.mouserect = this.svg\n      .append('rect')\n      .attr('width', this.width - this.margin.left - this.margin.right)\n      .attr('height', this.height)\n      .attr('class', 'mouserect')\n      .on('mousemove', (data, index, nodes) => this.mouserectMouseMove(d3_event, index, nodes))\n      .on('mouseout', (data, index, nodes) => this.mouserectMouseOut(d3_event, index, nodes))\n      .on('click', (data, index, nodes) => this.mouserectMouseClick());\n\n    this.tooltipLine = this.svg\n      .append('line')\n      .attr('y1', 0)\n      .attr('y2', this.height)\n      .attr('class', 'tooltip-line');\n\n    // define color range\n    this.colorRange = d3_scaleOrdinal().range(this._dataviz.getColors(false));\n\n    // add glow def\n    this._dataviz.createGlowFilter(this.svg);\n\n    // X AXIS\n    this.xAxisScale = d3_scaleTime()\n      .domain(\n        d3_extent(this.data.dates, (d: any, i) => {\n          return d3_isoParse(d);\n        })\n      )\n      .range([0, this.width - this.margin.left - this.margin.right]);\n\n    this.xAxisCall = d3_axisBottom(this.xAxisScale)\n      .ticks(+this.xAxisTicks)\n      .tickSize(this.xAxisTickSize)\n      .tickSizeOuter(this.xAxisTickSizeOuter)\n      .tickFormat(this.xAxisFormatter);\n\n    this.xAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-x')\n      .attr('transform', `translate(0, ${this.height})`) //${-this.margin.right / 2}\n      .classed('axis-hidden', this.hideXAxis)\n      .classed('axis-zero-hidden', this.hideXAxisZero)\n      .classed('axis-domain-hidden', this.hideXAxisDomain)\n      .classed('axis-ticks-hidden', this.hideXAxisTicks)\n      .call(this.xAxisCall);\n\n    // X GRIDLINES\n    if (!this.hideXGrid) {\n      this.xGridCall = d3_axisBottom(this.xAxisScale).tickSize(-this.height);\n\n      this.xGrid = this.svg\n        .append('g')\n        .attr('class', 'grid grid-x')\n        .classed('grid-zero-hidden', this.hideXAxisZero)\n        .attr('transform', `translate(0, ${this.height})`) //${-this.margin.right / 2}\n        .call(this.xGridCall);\n    }\n\n    // Y AXIS\n    this.yAxisScale = d3_scaleLinear()\n      .domain([\n        d3_min(this.data.series, (d: any, i) => {\n          const minVal = +d3_min(d.values);\n          return minVal - minVal * +this.yAxisMinBuffer;\n        }),\n        d3_max(this.data.series, (d: any, i) => {\n          const maxVal = +d3_max(d.values);\n          return maxVal + maxVal * this.yAxisMaxBuffer;\n        })\n      ])\n      .nice()\n      .range([this.height, 0]);\n\n    this.yAxisCall = d3_axisLeft(this.yAxisScale)\n      .ticks(this.yAxisTicks)\n      .tickSize(this.yAxisTickSize)\n      .tickSizeOuter(this.yAxisTickSizeOuter)\n      .tickFormat(this.yAxisFormatter);\n\n    this.yAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-y')\n      .classed('axis-hidden', this.hideYAxis)\n      .classed('axis-zero-hidden', this.hideYAxisZero)\n      .classed('axis-domain-hidden', this.hideYAxisDomain)\n      .classed('axis-ticks-hidden', this.hideYAxisTicks)\n      .call(this.yAxisCall);\n\n    // Y GRIDLINES\n    if (!this.hideYGrid) {\n      this.yGridCall = d3_axisLeft(this.yAxisScale)\n        .ticks(this.yAxisTicks)\n        .tickSize(-this.width + this.margin.left + this.margin.right);\n\n      this.yGrid = this.svg\n        .append('g')\n        .attr('class', 'grid grid-y')\n        .classed('grid-zero-hidden', this.hideYAxisZero)\n        .attr('transform', `translate(0, 0)`)\n        .call(this.yGridCall);\n    }\n\n    // TOOLTIP\n    if (!this.hideTooltip) {\n      this.tooltip = d3_select('body')\n        .append('div')\n        .attr('class', 'pbds-tooltip west')\n        .style('opacity', 0)\n        .attr('aria-hidden', 'true'); // hide tooltip for accessibility\n\n      // tooltip header\n      this.tooltip.append('div').attr('class', 'tooltip-header');\n\n      // tooltip table\n      const tooltipTable = this.tooltip.append('table').attr('class', 'tooltip-table text-left w-100');\n\n      const tooltipTableTbody = tooltipTable.append('tbody');\n\n      tooltipTableTbody\n        .selectAll('tr')\n        .data(this.data)\n        .enter()\n        .append('tr');\n    }\n\n    // add legend classes\n    if (!this.hideLegend) {\n      this.chart.classed('pbds-chart-legend-bottom', this.legendPosition === 'bottom' ? true : false);\n      this.chart.append('ul').attr('class', `legend legend-${this.legendPosition}`);\n    }\n\n    this.updateChart();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.updateChart();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  updateChart = () => {\n    this.mouserect.data(this.data);\n\n    // update the xScale\n    this.xAxisScale.domain(\n      d3_extent(this.data.dates, (d: any, i) => {\n        return d3_isoParse(d);\n      })\n    );\n\n    // update the yScale\n    this.yAxisScale\n      .domain([\n        d3_min(this.data.series, (d: any, i) => {\n          const minVal = +d3_min(d.values);\n          return minVal - minVal * +this.yAxisMinBuffer;\n        }),\n        d3_max(this.data.series, (d: any, i) => {\n          const maxVal = +d3_max(d.values);\n          return maxVal + maxVal * this.yAxisMaxBuffer;\n        })\n      ])\n      .nice();\n\n    this.xAxis\n      .transition()\n      .duration(1000)\n      .call(this.xAxisCall);\n\n    this.yAxis\n      .transition()\n      .duration(1000)\n      .call(this.yAxisCall);\n\n    // update the grids\n    if (!this.hideXGrid) {\n      this.xGrid\n        .transition()\n        .duration(1000)\n        .call(this.xGridCall);\n    }\n\n    if (!this.hideYGrid) {\n      this.yGrid\n        .transition()\n        .duration(1000)\n        .call(this.yGridCall);\n    }\n\n    let group = this.svg.selectAll('.line-group').data(this.data.series);\n\n    // remove lines\n    group.exit().remove();\n\n    // update existing\n    group\n      .select('path.line')\n      .transition()\n      .duration(1000)\n      .attr('d', d => this.d3line(d.values));\n\n    if (this.area) {\n      group\n        .select('path.area')\n        .transition()\n        .duration(1000)\n        .attr('d', d => this.d3area(d.values));\n    }\n\n    group\n      .selectAll('circle')\n      .data(d => d.values)\n      .transition()\n      .duration(1000)\n      .attr('cx', (d, i) => this.xAxisScale(d3_isoParse(this.data.dates[i])))\n      .attr('cy', d => this.yAxisScale(d));\n\n    // add group on enter\n    const groupEnter = group\n      .enter()\n      .append('g')\n      .attr('class', 'line-group');\n\n    // add line on enter\n    const line = groupEnter\n      .append('path')\n      .attr('class', 'line')\n      .style('color', d => this.colorRange(d.label))\n      .style('stroke-width', this.lineWidth)\n      .transition()\n      .duration(1000)\n      .attr('d', data => this.d3line(data.values));\n\n    if (this.area) {\n      groupEnter\n        .append('path')\n        .attr('class', 'area')\n        .attr('d', data => this.d3area(data.values))\n        .style('color', d => this.colorRange(d.label));\n    }\n\n    // add points\n    if (this.linePoints) {\n      const points = groupEnter\n        .append('g')\n        .attr('class', 'points')\n        .style('color', d => this.colorRange(d.label));\n\n      const circles = points.selectAll('circle').data(d => d.values);\n\n      circles\n        .enter()\n        .append('circle')\n        .attr('cx', (d, i) => this.xAxisScale(d3_isoParse(this.data.dates[i])))\n        .attr('cy', d => this.yAxisScale(d))\n        .attr('r', this.lineWidth * 2)\n        .style('stroke-width', this.lineWidth);\n    }\n\n    if (this.type !== 'high') {\n      line.attr('filter', 'url(#glow)');\n    }\n\n    if (!this.hideLegend) {\n      let legendItem = this.chart\n        .select('.legend')\n        .selectAll('.legend-item')\n        .data(this.data.series);\n\n      legendItem.exit().remove();\n\n      // update existing items\n      legendItem.select('.legend-label').html(d => {\n        switch (this.legendLabelFormatType) {\n          case 'number':\n            return this.legendLabelFormat(d.label);\n\n          case 'time':\n            const parsedTime = d3_isoParse(d.label);\n            return this.legendLabelFormat(parsedTime);\n\n          default:\n            return d.label;\n        }\n      });\n\n      // legend items on enter\n      let enterLegendItem = legendItem\n        .enter()\n        .append('li')\n        .attr('class', 'legend-item');\n\n      enterLegendItem\n        .append('span')\n        .attr('class', 'legend-key')\n        .style('background-color', d => this.colorRange(d.label));\n\n      enterLegendItem\n        .append('span')\n        .attr('class', 'legend-label')\n        .html(d => {\n          switch (this.legendLabelFormatType) {\n            case 'number':\n              return this.legendLabelFormat(d.label);\n\n            case 'time':\n              const parsedTime = d3_isoParse(d.label);\n              return this.legendLabelFormat(parsedTime);\n\n            default:\n              return d.label;\n          }\n        });\n\n      enterLegendItem\n        .on('mouseover', (data, index, nodes) => this.legendMouseOver(d3_event, data, index, nodes))\n        .on('mouseout', () => this.legendMouseOut())\n        .on('click', (data, index, nodes) => this.legendMouseClick(d3_event, data, index, nodes));\n    }\n\n    if (!this.hideTooltip) {\n      let tooltipItem = this.tooltip\n        .select('.tooltip-table')\n        .selectAll('tr')\n        .data(this.data.series);\n\n      tooltipItem.exit().remove();\n\n      // update existing items\n      tooltipItem.select('.tooltip-label pr-2').html(d => {\n        return this.tooltipHeadingFormat(d.label);\n      });\n\n      // items on enter\n      let entertooltipItem = tooltipItem\n        .enter()\n        .append('tr')\n        .attr('class', 'tooltip-item');\n\n      entertooltipItem\n        .append('td')\n        .style('color', d => this.colorRange(d.label))\n        .append('span')\n        .attr('class', 'pbds-tooltip-key');\n\n      entertooltipItem\n        .append('td')\n        .attr('class', 'tooltip-label pr-2 text-nowrap')\n        .html(d => {\n          return this.tooltipLabelFormatType ? this.tooltipLabelFormat(d.label) : d.label;\n        });\n\n      entertooltipItem\n        .append('td')\n        .attr('class', 'tooltip-value text-right text-nowrap')\n        .html(d => '');\n    }\n\n    this.mouserect.raise();\n  };\n\n  legendMouseOver = (event, data, index, nodes) => {\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    this.chart\n      .selectAll('.line-group')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    const line = this.chart.selectAll('.line-group').filter((d, i) => i === index);\n    line.classed('active', true);\n\n    if (this.linePoints) {\n      const circles = line.selectAll('circle');\n      circles.classed('active', true);\n    }\n\n    this.hovered.emit({ event, data });\n  };\n\n  legendMouseOut = () => {\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n\n    this.chart\n      .selectAll('.line-group')\n      .classed('inactive', false)\n      .classed('active', false);\n\n    if (this.linePoints) {\n      const circles = this.chart.selectAll('circle');\n      circles.classed('active', false);\n    }\n  };\n\n  legendMouseClick = (event, data, index, nodes) => {\n    this.clicked.emit({ event, data });\n  };\n\n  mouserectMouseMove = (event, index, nodes) => {\n    const mouseXDate = this.xAxisScale.invert(d3_mouse(nodes[0])[0]); // return date at mouse x position\n    const leftIndex = d3_bisectLeft(this.data.dates, d3_isoFormat(mouseXDate)); // index of left closest date\n\n    // prevent error for 0 index\n    if (leftIndex === 0) return false;\n\n    const dateLower = new Date(this.data.dates[leftIndex - 1]);\n    const dateUpper = new Date(this.data.dates[leftIndex]);\n    const closestDate = +mouseXDate - +dateLower > +dateUpper - mouseXDate ? dateUpper : dateLower; // date mouse is closest to\n    const closestIndex = this.data.dates.indexOf(d3_isoFormat(closestDate)); // which index the mouse is closest to\n    // console.log(+mouseXDate, leftIndex, +dateLower, +dateUpper, +closestDate, closestIndex);\n\n    const circles = this.svg.selectAll('.line-group').selectAll('circle');\n    circles.filter((d, i) => i === closestIndex).classed('active', true);\n    circles.filter((d, i) => i !== closestIndex).classed('active', false);\n\n    this.tooltipLine\n      .attr('x1', this.xAxisScale(closestDate))\n      .attr('x2', this.xAxisScale(closestDate))\n      .classed('active', true);\n\n    // console.log(this.tooltipLine.node().getBoundingClientRect(), this._scroll.getScrollPosition());\n    this.tooltipShow(this.tooltipLine.node(), closestIndex);\n\n    this.mousedata = {\n      date: closestDate,\n      series: this.data.series.map(d => {\n        return {\n          label: d.label,\n          value: d.values[closestIndex]\n        };\n      })\n    };\n\n    this.tooltipHovered.emit({ event, data: this.mousedata });\n  };\n\n  mouserectMouseOut = (event, index, nodes) => {\n    this.svg.selectAll('circle').classed('active', false);\n    this.tooltipLine.classed('active', false);\n    this.tooltipHide();\n  };\n\n  mouserectMouseClick = () => {\n    this.tooltipClicked.emit({ event, data: this.mousedata });\n  };\n\n  private tooltipShow = (node, closestIndex) => {\n    const scroll = this._scroll.getScrollPosition();\n    const mouserectDimensions = node.getBoundingClientRect();\n    const tooltipOffsetHeight = +this.tooltip.node().offsetHeight;\n    const tooltipDimensions = this.tooltip.node().getBoundingClientRect();\n    const dimensionCalculated = mouserectDimensions.left + tooltipDimensions.width + 8;\n    const clientWidth = document.body.clientWidth - 10;\n    let position;\n\n    // console.log(scroll, mouserectDimensions, tooltipOffsetHeight, tooltipDimensions, dimensionCalculated, clientWidth);\n\n    this.tooltip.select('.tooltip-header').html(d => {\n      const parsedTime = d3_isoParse(this.data.dates[closestIndex]);\n      return this.tooltipHeadingFormat(parsedTime);\n    });\n\n    this.tooltip.selectAll('.tooltip-value').html((d, i) => {\n      return this.tooltipValueFormatType\n        ? this.tooltipValueFormat(this.data.series[i].values[closestIndex])\n        : this.data.series[i].values[closestIndex];\n    });\n\n    // flip the tooltip positions if near the right edge of the screen\n    if (dimensionCalculated > clientWidth) {\n      this.tooltip.classed('east', true);\n      this.tooltip.classed('west', false);\n      position = `${mouserectDimensions.left - tooltipDimensions.width - 8}px`;\n    } else if (dimensionCalculated < clientWidth) {\n      this.tooltip.classed('east', false);\n      this.tooltip.classed('west', true);\n      position = `${mouserectDimensions.left + 8}px`;\n    }\n\n    // console.log('POSITION: ', position, mouserectDimensions);\n\n    // set the tooltip styles\n    this.tooltip.style(\n      'top',\n      `${mouserectDimensions.top + mouserectDimensions.height / 2 - tooltipOffsetHeight / 2 + scroll[1]}px`\n    );\n    this.tooltip.style('left', position);\n    this.tooltip.style('opacity', 1);\n  };\n\n  private tooltipHide = () => {\n    this.tooltip.style('opacity', 0);\n  };\n\n  private xAxisFormatter = item => {\n    const parseDate = d3_isoParse(item);\n    return this.xAxisFormat(parseDate);\n  };\n\n  private yAxisFormatter = item => {\n    return this.yAxisFormat(item);\n  };\n}\n","import { Component, OnInit, Input, ElementRef, HostBinding, OnChanges, SimpleChanges } from '@angular/core';\n\nimport { select as d3_select, arc as d3_arc, interpolate as d3_interpolate, format as d3_format } from 'd3';\n\nimport { PbdsDatavizService } from './dataviz.service';\nimport { PbdsDatavizGauge } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-gauge',\n  template: `\n    <div\n      *ngIf=\"!hideLabel\"\n      class=\"gauge-details\"\n      [ngClass]=\"{ halfmoon: type === 'halfmoon', 'gauge-details-small': labelSmall }\"\n    >\n      <div class=\"gauge-number\">{{ label }}</div>\n      <div *ngIf=\"description\" class=\"gauge-description text-center\">{{ description }}</div>\n    </div>\n  `,\n  styles: []\n})\nexport class PbdsDatavizGaugeComponent implements OnInit, OnChanges {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-gauge')\n  pieClass = true;\n\n  @Input()\n  data: PbdsDatavizGauge;\n\n  @Input()\n  width = 300;\n\n  @Input()\n  type: 'halfmoon' | 'horseshoe' | 'circle' = 'halfmoon';\n\n  @Input()\n  color = '#cf0989';\n\n  @Input()\n  hideLabel = false;\n\n  @Input()\n  labelFormatString = '';\n\n  @Input()\n  labelSmall = false;\n\n  @Input()\n  description;\n\n  @Input()\n  gaugeWidth = 20;\n\n  private chart;\n  private svg;\n  private gauge;\n  private labelTween; // TODO: rename this\n  public label;\n  private startAngle;\n  private endAngle;\n  private radius;\n  private backgroundColor; // TODO: should this be an input?\n  private arc;\n  private labelFormat;\n  private oldValue;\n  private height;\n  private rounded;\n\n  constructor(private _dataviz: PbdsDatavizService, private _element: ElementRef) {}\n\n  ngOnInit() {\n    this.height = this.width;\n    this.radius = Math.max(this.width, this.height) / 2;\n    this.labelFormat = d3_format(this.labelFormatString);\n    this.backgroundColor = '#F0F0F0';\n    this.label = this.labelFormat(this.data.value);\n\n    switch (this.type) {\n      case 'halfmoon':\n        this.startAngle = -90;\n        this.endAngle = 90;\n        this.rounded = true;\n        break;\n\n      case 'horseshoe':\n        this.startAngle = -140;\n        this.endAngle = 140;\n        this.rounded = true;\n        break;\n\n      case 'circle':\n        this.startAngle = 0;\n        this.endAngle = 360;\n        this.rounded = false;\n        break;\n    }\n\n    this.arc = d3_arc().cornerRadius(this.rounded ? this.gaugeWidth : 0);\n\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', this.width)\n      .attr('height', this.height)\n      .attr('class', 'img-fluid') // to resize chart\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr('viewBox', `-${this.width / 2} -${this.height / 2} ${this.width} ${this.height}`);\n\n    this.drawChart();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      // console.log(changes.data.previousValue.value, changes.data.currentValue.value);\n\n      this.oldValue = changes.data.previousValue.value;\n      this.updateChart();\n    }\n  }\n\n  degreesToRadians = degree => {\n    return (degree * Math.PI) / 180;\n  };\n\n  calculateMinMax = () => {\n    const percentage = this.data.minvalue / (this.data.maxvalue - this.data.minvalue);\n\n    return percentage * (this.data.value - this.data.minvalue) + (this.data.value - this.data.minvalue);\n  };\n\n  calculateCurve = data => {\n    const start = this.degreesToRadians(this.startAngle);\n    const end = start + (data * (this.degreesToRadians(this.endAngle) - start)) / this.data.maxvalue;\n\n    return [\n      {\n        startAngle: start,\n        endAngle: end\n      }\n    ];\n  };\n\n  drawChart = () => {\n    this.gauge = this.svg.append('g').attr('class', 'gauge-group');\n\n    // background arc\n    const background = this.gauge\n      .append('path')\n      .data(this.calculateCurve(this.data.maxvalue))\n      .attr('class', 'gauge-background')\n      .attr('fill', this.backgroundColor)\n      .attr('d', d => {\n        return this.arc({\n          innerRadius: this.radius - this.gaugeWidth,\n          outerRadius: this.radius,\n          startAngle: d.startAngle,\n          endAngle: d.endAngle\n        });\n      });\n\n    // value arc\n    this.gauge\n      .append('path')\n      .data(this.calculateCurve(this.calculateMinMax()))\n      .attr('class', 'gauge-value')\n      .attr('fill', this.color)\n      .attr('d', d => {\n        return this.arc({\n          innerRadius: this.radius - this.gaugeWidth,\n          outerRadius: this.radius,\n          startAngle: d.startAngle,\n          endAngle: d.endAngle\n        });\n      });\n\n    switch (this.type) {\n      case 'horseshoe':\n        this.svg.attr('height', 230).attr('viewBox', `-${this.width / 2} -${this.height / 2} ${this.height} 230`);\n        break;\n      case 'halfmoon':\n        this.svg.attr('height', this.width / 2);\n        this.svg.attr('viewBox', `-${this.width / 2} -${this.width / 2} ${this.width} ${this.width / 2}`);\n        break;\n    }\n  };\n\n  updateChart = () => {\n    let group = this.svg.select('.gauge-group');\n\n    group\n      .select('.gauge-value')\n      .transition()\n      .duration(750)\n      .call(this.arcTween, this.calculateMinMax());\n\n    this.labelTween = this.chart.select('.gauge-number');\n\n    this.labelTween\n      .transition()\n      .duration(750)\n      .call(this.textTween, this.data.value);\n  };\n\n  arcTween = (transition, value) => {\n    let newAngle = this.calculateCurve(value);\n\n    transition.attrTween('d', d => {\n      let interpolate = d3_interpolate(d.endAngle, newAngle[0].endAngle);\n\n      return t => {\n        d.endAngle = interpolate(t);\n\n        return this.arc({\n          innerRadius: this.radius - this.gaugeWidth,\n          outerRadius: this.radius,\n          startAngle: d.startAngle,\n          endAngle: d.endAngle\n        });\n      };\n    });\n  };\n\n  textTween = (transition, value) => {\n    value = d3_format('.2f')(value); // TODO: check these .1f formats here, should they be inputs?\n    value = value.replace(/,/g, '.');\n\n    transition.tween('text', () => {\n      let interpolate = d3_interpolate(d3_format('.2f')(+this.oldValue), value);\n\n      return t => {\n        this.labelTween.text(d => {\n          let updatedNumber = this.labelFormat(interpolate(t));\n          this.label = updatedNumber;\n          return updatedNumber;\n        });\n      };\n    });\n  };\n}\n","import { Component, OnInit, Input, ElementRef, HostBinding, ChangeDetectionStrategy } from '@angular/core';\n\nimport {\n  select as d3_select,\n  line as d3_line,\n  scaleLinear as d3_scaleLinear,\n  min as d3_min,\n  max as d3_max,\n  area as d3_area\n} from 'd3';\n\nimport { PbdsDatavizSparkline } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-sparkline',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizSparklineComponent implements OnInit {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-sparkline')\n  sparklineClass = true;\n\n  @Input()\n  data: PbdsDatavizSparkline;\n\n  @Input()\n  width = 160;\n\n  @Input()\n  height = 40;\n\n  @Input()\n  type: 'line' | 'line-high' | 'area' | 'area-high' | 'bar' = 'line';\n\n  @Input()\n  color = '#cf0989';\n\n  @Input()\n  colorNegative: string | null = null; // undocumented, may add if needed\n\n  @Input()\n  strokeWidth = 2; // undocumented, width is automatically set by the type\n\n  @Input()\n  yAxisMinBuffer = 0;\n\n  @Input()\n  yAxisMaxBuffer = 0;\n\n  private chart;\n  private svg;\n  private margin;\n\n  constructor(private _element: ElementRef) {}\n\n  ngOnInit() {\n    this.margin = { top: 1, right: 0, bottom: 1, left: 0 };\n\n    if (this.type === 'bar') {\n      this.margin = { top: 0, right: 0, bottom: 0, left: 0 };\n    }\n\n    if (this.type === 'line-high' || this.type === 'area-high') {\n      this.strokeWidth = 1;\n    }\n\n    if (this.colorNegative === null) {\n      this.colorNegative = this.color;\n    }\n\n    let x = d3_scaleLinear().range([0, this.width - this.margin.left - this.margin.right]);\n    let y = d3_scaleLinear().range([this.height - this.margin.top - this.margin.bottom, 0]);\n\n    y.domain([+d3_min(this.data) - this.yAxisMinBuffer, +d3_max(this.data) + this.yAxisMaxBuffer]);\n    x.domain([0, this.data.length]);\n\n    let line = d3_line()\n      .x((d, i) => x(i))\n      .y((d: any) => y(d));\n\n    let area = d3_area()\n      .x((d, i) => x(i))\n      .y0(this.height)\n      .y1((d: any) => y(d));\n\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', this.width)\n      .attr('height', this.height)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr('viewBox', `-${this.margin.left} -${this.margin.top} ${this.width} ${this.height}`);\n\n    if (this.type === 'line' || this.type === 'line-high' || this.type === 'area' || this.type === 'area-high') {\n      this.svg\n        .append('path')\n        .datum(this.data)\n        .attr('class', 'sparkline')\n        .attr('fill', 'none')\n        .attr('stroke-width', this.strokeWidth)\n        .attr('stroke', this.color)\n        .attr('d', line);\n    }\n\n    if (this.type === 'area' || this.type === 'area-high') {\n      this.svg\n        .append('path')\n        .datum(this.data)\n        .attr('class', 'sparkarea')\n        .attr('fill', this.color)\n        .attr('fill-opacity', 0.3)\n        .attr('d', area);\n    }\n\n    if (this.type === 'bar') {\n      const barWidth = (this.width - this.data.length) / this.data.length;\n\n      // handles negative values, see example https://www.essycode.com/posts/create-sparkline-charts-d3/\n      this.svg\n        .selectAll('.bar')\n        .data(this.data)\n        .enter()\n        .append('rect')\n        .attr('class', 'sparkbar')\n        .attr('x', (d, i) => x(i))\n        .attr('y', d => (d > 0 ? y(d) : y(0)))\n        .attr('width', barWidth)\n        .attr('height', d => Math.abs(y(d) - y(0)))\n        .attr('fill', d => (d > 0 ? this.color : this.colorNegative)); // still uses undocumented negative color values\n    }\n  }\n}\n","import {\n  Component,\n  OnInit,\n  OnChanges,\n  Input,\n  Output,\n  EventEmitter,\n  ElementRef,\n  HostBinding,\n  OnDestroy,\n  SimpleChanges,\n  ChangeDetectionStrategy\n} from '@angular/core';\n\nimport { ViewportScroller } from '@angular/common';\n\nimport {\n  select as d3_select,\n  isoParse as d3_isoParse,\n  timeFormat as d3_timeFormat,\n  format as d3_format,\n  scaleOrdinal as d3_scaleOrdinal,\n  scaleBand as d3_scaleBand,\n  scaleLinear as d3_scaleLinear,\n  max as d3_max,\n  axisBottom as d3_axisBottom,\n  axisLeft as d3_axisLeft,\n  event as d3_event,\n  stack as d3_stack,\n  stackOrderNone as d3_stackOrderNone\n} from 'd3';\n\nimport { PbdsDatavizService } from './dataviz.service';\nimport { PbdsDatavizStackedBar } from './dataviz.interfaces';\n\n@Component({\n  selector: 'pbds-dataviz-stacked-bar',\n  template: ``,\n  styles: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PbdsDatavizStackedBarComponent implements OnInit, OnDestroy, OnChanges {\n  @HostBinding('class.pbds-chart')\n  chartClass = true;\n\n  @HostBinding('class.pbds-chart-stacked-bar')\n  stackedBarClass = true;\n\n  @Input()\n  data: Array<PbdsDatavizStackedBar>;\n\n  @Input()\n  width = 306;\n\n  @Input()\n  height = 400;\n\n  @Input()\n  type: 'low' | 'medium' | 'high' | 'debug' = 'medium'; // debug to show all chart options\n\n  @Input()\n  marginTop = 10; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginRight = 0; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginBottom = 30; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  marginLeft = 55; // hardcoded on purpose, do not document until feedback\n\n  @Input()\n  hideXAxis = false;\n\n  @Input()\n  xAxisFormatType: 'number' | 'time' = null;\n\n  @Input()\n  xAxisFormatString = '';\n\n  @Input()\n  yAxisFormatType: 'number' | 'time' = null;\n\n  @Input()\n  yAxisFormatString = '';\n\n  @Input()\n  yAxisTicks = 5;\n\n  @Input()\n  yAxisMaxBuffer = 0.01;\n\n  @Input()\n  hideLegend = false;\n\n  @Input()\n  legendWidth = 105 + 28; // hardcoded legend width + left margin, do not document until feedback\n\n  @Input()\n  legendPosition: 'right' | 'bottom' = 'right';\n\n  @Input()\n  legendLabelFormatType: 'number' | 'time' = null;\n\n  @Input()\n  legendLabelFormatString = '';\n\n  @Input()\n  tooltipHeadingFormatType: 'time' = null;\n\n  @Input()\n  tooltipHeadingFormatString = '';\n\n  @Input()\n  tooltipHeadingValueFormatType: 'number' = null;\n\n  @Input()\n  tooltipHeadingValueFormatString = '';\n\n  @Input()\n  tooltipLabelFormatType: 'time' = null;\n\n  @Input()\n  tooltipLabelFormatString = '';\n\n  @Input()\n  tooltipValueFormatType: 'number' = null;\n\n  @Input()\n  tooltipValueFormatString = '';\n\n  @Output()\n  hovered: EventEmitter<object> = new EventEmitter<object>();\n\n  @Output()\n  clicked: EventEmitter<object> = new EventEmitter<object>();\n\n  private dataStack;\n  private dataKeys;\n  private chart;\n  private svg;\n  private grayBars;\n  private mouseBars;\n  private bars;\n  private margin;\n  private colorRange;\n  private hideGrayBars: boolean;\n  private xAxisScale;\n  private xAxisCall;\n  private xAxis;\n  private xAxisFormat;\n  private xAxisTickSize: number;\n  private xAxisTickSizeOuter: number;\n  private hideXAxisDomain: boolean;\n  private hideXAxisZero: boolean;\n  private hideXAxisTicks: boolean;\n  private hideXGrid: boolean;\n  private hideYGrid: boolean;\n  private yAxisMax;\n  private yAxisScale;\n  private yAxisCall;\n  private yAxis;\n  private yAxisFormat;\n  private yAxisTickSize: number;\n  private yAxisTickSizeOuter: number;\n  private xGrid;\n  private xGridCall;\n  private yGrid;\n  private yGridCall;\n  private hideYAxis: boolean;\n  private hideYAxisZero: boolean;\n  private hideYAxisDomain: boolean;\n  private hideYAxisTicks: boolean;\n  private legendLabelFormat;\n  private tooltip;\n  private hideTooltip: boolean;\n  private tooltipHeadingFormat;\n  private tooltipHeadingValueFormat;\n  private tooltipValueFormat;\n  private tooltipLabelFormat;\n\n  constructor(private _dataviz: PbdsDatavizService, private _element: ElementRef, private _scroll: ViewportScroller) {}\n\n  ngOnInit() {\n    // extract keys for stack data\n    this.dataKeys = Object.keys(this.data[0]).filter(item => item !== 'key');\n\n    // create the D3 stack data\n    this.dataStack = d3_stack()\n      .keys(this.dataKeys)\n      .order(d3_stackOrderNone)(this.data);\n\n    //////////////////////////////////////////\n\n    this.margin = {\n      top: +this.marginTop,\n      right: +this.marginRight,\n      bottom: +this.marginBottom,\n      left: +this.marginLeft\n    };\n\n    switch (this.xAxisFormatType) {\n      case 'number':\n        this.xAxisFormat = d3_format(this.xAxisFormatString);\n        break;\n      case 'time':\n        this.xAxisFormat = d3_timeFormat(this.xAxisFormatString);\n        break;\n    }\n\n    switch (this.yAxisFormatType) {\n      case 'number':\n        this.yAxisFormat = d3_format(this.yAxisFormatString);\n        break;\n      case 'time':\n        this.yAxisFormat = d3_timeFormat(this.yAxisFormatString);\n        break;\n    }\n\n    switch (this.legendLabelFormatType) {\n      case 'number':\n        this.legendLabelFormat = d3_format(this.legendLabelFormatString);\n        break;\n      case 'time':\n        this.legendLabelFormat = d3_timeFormat(this.legendLabelFormatString);\n        break;\n      default:\n        this.legendLabelFormat = null;\n        break;\n    }\n\n    switch (this.tooltipHeadingFormatType) {\n      case 'time':\n        this.tooltipHeadingFormat = d3_timeFormat(this.tooltipHeadingFormatString);\n        break;\n      default:\n        this.tooltipHeadingFormat = null;\n        break;\n    }\n\n    switch (this.tooltipHeadingValueFormatType) {\n      case 'number':\n        this.tooltipHeadingValueFormat = d3_format(this.tooltipHeadingValueFormatString);\n        break;\n      default:\n        this.tooltipHeadingValueFormat = null;\n        break;\n    }\n\n    switch (this.tooltipLabelFormatType) {\n      case 'time':\n        this.tooltipLabelFormat = d3_timeFormat(this.tooltipLabelFormatString);\n        break;\n      default:\n        this.tooltipLabelFormat = null;\n        break;\n    }\n\n    switch (this.tooltipValueFormatType) {\n      case 'number':\n        this.tooltipValueFormat = d3_format(this.tooltipValueFormatString);\n        break;\n      default:\n        this.tooltipValueFormat = null;\n    }\n\n    // defaults for all chart types\n    this.hideGrayBars = false;\n    this.hideYAxis = false;\n    this.hideXAxisZero = false;\n    this.hideYAxisZero = false;\n    this.hideXGrid = false;\n    this.hideYGrid = false;\n    this.hideXAxisDomain = false;\n    this.hideYAxisDomain = false;\n    this.hideTooltip = false;\n    this.hideXAxisTicks = false;\n    this.hideYAxisTicks = false;\n    this.xAxisTickSize = 8;\n    this.xAxisTickSizeOuter = 0;\n    this.yAxisTickSize = 8;\n    this.yAxisTickSizeOuter = 0;\n    // this.hideTooltipLabel = false;\n\n    if (this.type !== 'debug') {\n      // set type defaults\n      switch (this.type) {\n        case 'low':\n          this.hideGrayBars = true;\n          this.hideXAxisTicks = true;\n          this.hideXGrid = true;\n          this.hideYAxisDomain = false;\n          this.hideYAxisTicks = true;\n          this.legendPosition = 'bottom';\n          break;\n\n        case 'medium':\n          this.hideXAxisDomain = true;\n          this.hideXGrid = true;\n          this.hideXAxisTicks = true;\n          this.hideYAxisDomain = true;\n          this.hideYAxisTicks = true;\n          this.hideYGrid = true;\n          break;\n\n        case 'high':\n          this.hideXAxis = true;\n          this.hideXAxisTicks = true;\n          this.hideXAxisDomain = true;\n          this.hideXGrid = true;\n          this.hideYAxisDomain = true;\n          this.hideYAxisTicks = true;\n          this.hideYGrid = true;\n          this.hideLegend = false;\n          this.legendPosition = 'bottom';\n          break;\n      }\n    }\n\n    // adjust margin if xAxis hidden\n    if (this.hideXAxis) this.margin.bottom = 10; // need small margin for yAxis with 0 tick label\n\n    if (!this.hideLegend && this.legendPosition === 'right') {\n      this.width = +this.width - +this.legendWidth;\n    }\n\n    // create the chart\n    this.chart = d3_select(this._element.nativeElement).attr('aria-hidden', 'true');\n\n    // create chart svg\n    this.svg = this.chart\n      .append('svg')\n      .attr('width', +this.width)\n      .attr('height', +this.height + this.margin.top + this.margin.bottom)\n      .attr('class', 'img-fluid')\n      .attr('preserveAspectRatio', 'xMinYMin meet')\n      .attr(\n        'viewBox',\n        `-${this.margin.left} -${this.margin.top} ${+this.width} ${+this.height + this.margin.top + this.margin.bottom}`\n      );\n\n    this.grayBars = this.svg.append('g').attr('class', 'gray-bars');\n    this.mouseBars = this.svg.append('g').attr('class', 'mouseover-bars');\n    this.bars = this.svg.append('g').attr('class', 'bars');\n\n    // build color ranges\n    this.colorRange = d3_scaleOrdinal().range(this._dataviz.getColors(false));\n\n    // X AXIS\n    this.xAxisScale = d3_scaleBand()\n      .domain(this.data.map(d => d.key))\n      .rangeRound([0, this.width - this.margin.left])\n      .align(0);\n\n    // add padding to the scale for gray bars\n    !this.hideGrayBars\n      ? this.xAxisScale.paddingInner(0.1).paddingOuter(0)\n      : this.xAxisScale.paddingInner(0).paddingOuter(0);\n\n    this.xAxisCall = d3_axisBottom(this.xAxisScale)\n      .tickSize(this.xAxisTickSize)\n      .tickSizeOuter(this.xAxisTickSizeOuter)\n      .tickFormat(this.xAxisFormatter);\n\n    this.xAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-x')\n      .attr('transform', `translate(0, ${this.height})`)\n      .classed('axis-hidden', this.hideXAxis)\n      .classed('axis-zero-hidden', this.hideXAxisZero)\n      .classed('axis-domain-hidden', this.hideXAxisDomain)\n      .classed('axis-ticks-hidden', this.hideXAxisTicks)\n      .call(this.xAxisCall);\n\n    // X GRIDLINES\n    if (!this.hideXGrid) {\n      this.xGridCall = d3_axisBottom(this.xAxisScale).tickSize(-this.height);\n\n      this.xGrid = this.svg\n        .append('g')\n        .attr('class', 'grid grid-x')\n        .classed('grid-zero-hidden', this.hideXAxisZero)\n        .attr('transform', `translate(0, ${this.height})`)\n        .call(this.xGridCall);\n    }\n\n    // KEEP: use this block to debug yAxisMax\n    // console.log(\n    //   d3_max(this.dataStack, (data: any) => {\n    //     // console.log(data);\n\n    //     return d3_max(data, (d: any) => {\n    //       // console.log('D: ', d);\n    //       return d[1];\n    //     });\n    //   })\n    // );\n\n    // Y AXIS\n    this.yAxisMax = d3_max(this.dataStack, (data: any) => {\n      return d3_max(data, (d: any) => {\n        return d[1];\n      });\n    });\n\n    this.yAxisMax = this.yAxisMax + this.yAxisMax * this.yAxisMaxBuffer;\n\n    this.yAxisScale = d3_scaleLinear()\n      .domain([0, this.yAxisMax])\n      .nice()\n      .rangeRound([this.height, 0]);\n\n    this.yAxisCall = d3_axisLeft(this.yAxisScale)\n      .ticks(this.yAxisTicks)\n      .tickSize(this.yAxisTickSize)\n      .tickSizeOuter(this.yAxisTickSizeOuter)\n      .tickFormat(this.yAxisFormatter);\n\n    this.yAxis = this.svg\n      .append('g')\n      .attr('class', 'axis axis-y')\n      .classed('axis-hidden', this.hideYAxis)\n      .classed('axis-zero-hidden', this.hideYAxisZero)\n      .classed('axis-domain-hidden', this.hideYAxisDomain)\n      .classed('axis-ticks-hidden', this.hideYAxisTicks)\n      .call(this.yAxisCall);\n\n    // Y GRIDLINES\n    if (!this.hideYGrid) {\n      this.yGridCall = d3_axisLeft(this.yAxisScale)\n        .ticks(this.yAxisTicks)\n        .tickSize(-this.width + this.margin.left + this.margin.right);\n\n      this.yGrid = this.svg\n        .append('g')\n        .attr('class', 'grid grid-y')\n        .classed('grid-zero-hidden', this.hideYAxisZero)\n        .attr('transform', `translate(0, 0)`)\n        .call(this.yGridCall);\n    }\n\n    // TOOLTIP\n    if (!this.hideTooltip) {\n      this.tooltip = d3_select('body')\n        .append('div')\n        .attr('class', 'pbds-tooltip west')\n        .style('opacity', 0)\n        .attr('aria-hidden', 'true'); // hide tooltip for accessibility\n\n      // tooltip header\n      this.tooltip.append('div').attr('class', 'tooltip-header');\n      this.tooltip.append('div').attr('class', 'tooltip-header-value');\n\n      // tooltip table\n      const tooltipTable = this.tooltip\n        .append('table')\n        .attr('class', 'tooltip-table text-left w-100')\n        .append('tbody');\n    }\n\n    // add legend classes\n    if (!this.hideLegend) {\n      this.chart.classed('pbds-chart-legend-bottom', this.legendPosition === 'bottom' ? true : false);\n      this.chart.append('ul').attr('class', `legend legend-${this.legendPosition}`);\n    }\n\n    this.updateChart();\n  }\n\n  ngOnDestroy() {\n    if (this.tooltip) this.tooltip.remove();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.data && !changes.data.firstChange) {\n      this.updateChart();\n    }\n  }\n\n  updateChart = () => {\n    this.dataKeys = Object.keys(this.data[0]).filter(item => item !== 'key');\n\n    // create the D3 stack data\n    this.dataStack = d3_stack()\n      .keys(this.dataKeys)\n      .order(d3_stackOrderNone)(this.data);\n\n    // update the xScale\n    this.xAxisScale.domain(this.data.map(d => d.key));\n\n    // update the yScale\n    this.yAxisMax = d3_max(this.dataStack, (data: any) => {\n      return d3_max(data, (d: any) => {\n        return d[1];\n      });\n    });\n\n    this.yAxisMax = this.yAxisMax + this.yAxisMax * this.yAxisMaxBuffer;\n\n    this.yAxisScale\n      .domain([0, this.yAxisMax])\n      .rangeRound([this.height, 0])\n      .nice();\n\n    this.xAxis\n      .transition()\n      .duration(1000)\n      .call(this.xAxisCall);\n\n    this.yAxis\n      .transition()\n      .duration(1000)\n      .call(this.yAxisCall);\n\n    // update the grids\n    if (!this.hideXGrid) {\n      this.xGrid\n        .transition()\n        .duration(1000)\n        .call(this.xGridCall);\n    }\n\n    if (!this.hideYGrid) {\n      this.yGrid\n        .transition()\n        .duration(1000)\n        .call(this.yGridCall);\n    }\n\n    // add gray bars\n    if (!this.hideGrayBars) {\n      this.grayBars\n        .selectAll('.gray-bar')\n        .data(this.data)\n        .join(\n          enter =>\n            enter\n              .append('rect')\n              .attr('class', 'gray-bar')\n              .attr('x', d => this.xAxisScale(d.key))\n              .attr('width', this.xAxisScale.bandwidth())\n              .attr('height', this.height),\n          update =>\n            update\n              .transition()\n              .duration(1000)\n              .attr('x', d => this.xAxisScale(d.key))\n              .attr('width', this.xAxisScale.bandwidth())\n              .attr('height', this.height),\n          exit => exit.remove()\n        );\n    }\n\n    // add colored bars\n    const barGroups = this.bars\n      .selectAll('.bar-group')\n      .data(this.dataStack)\n      .join(\n        enter =>\n          enter\n            .append('g')\n            .attr('class', 'bar-group')\n            .attr('fill', d => this.colorRange(d.index)),\n        update => update.attr('fill', d => this.colorRange(d.index)),\n        exit => exit.remove()\n      );\n\n    barGroups\n      .selectAll('.bar')\n      .data(d => d)\n      .join(\n        enter =>\n          enter\n            .append('rect')\n            .attr('class', 'bar')\n            .classed('bar-divided', this.type !== 'high')\n            .classed('bar-divided-low', this.type === 'low')\n            .attr('x', (d, i) => {\n              let x;\n\n              if (this.type === 'medium') {\n                x = this.xAxisScale(d.data.key) + (this.xAxisScale.bandwidth() / 8) * 3;\n              } else {\n                x = this.xAxisScale(d.data.key) + (this.xAxisScale.bandwidth() / 4) * 1;\n              }\n\n              return x;\n            })\n            .attr('y', d => this.yAxisScale(d[1]))\n            .attr('width', 0)\n            .attr('height', 0)\n            .call(enter => {\n              let width;\n\n              if (this.type === 'medium') {\n                width = this.xAxisScale.bandwidth() / 4;\n              } else {\n                width = this.xAxisScale.bandwidth() / 2;\n              }\n\n              enter\n                .transition()\n                .duration(1000)\n                .attr('width', width)\n                .attr('height', d => this.yAxisScale(d[0]) - this.yAxisScale(d[1]));\n\n              return enter;\n            }),\n        update =>\n          update.call(update => {\n            let width;\n\n            if (this.type === 'medium') {\n              width = this.xAxisScale.bandwidth() / 4;\n            } else {\n              width = this.xAxisScale.bandwidth() / 2;\n            }\n\n            update\n              .transition()\n              .duration(1000)\n              .attr('width', this.xAxisScale.bandwidth() / 4)\n              .attr('x', (d, i) => this.xAxisScale(d.data.key) + (this.xAxisScale.bandwidth() / 8) * 3)\n              .attr('y', d => this.yAxisScale(d[1]))\n              .attr('height', d => this.yAxisScale(d[0]) - this.yAxisScale(d[1]));\n\n            return update;\n          }),\n\n        exit => exit.remove()\n      );\n\n    // mouseover bars\n    this.mouseBars\n      .selectAll('.mouseover-bar')\n      .data(this.data)\n      .join(\n        enter =>\n          enter\n            .append('rect')\n            .attr('class', 'mouseover-bar')\n            .style('opacity', 0)\n            .attr('x', d => this.xAxisScale(d.key))\n            .attr('width', this.xAxisScale.bandwidth())\n            .attr('height', this.height),\n        update =>\n          update\n            .attr('x', d => this.xAxisScale(d.key))\n            .attr('width', this.xAxisScale.bandwidth())\n            .attr('height', this.height),\n        exit => exit.remove()\n      )\n      .on('mouseover focus', (data, index, nodes) => this.barMouseOverFocus(d3_event, data, index, nodes))\n      .on('mouseout blur', (data, index, nodes) => this.barMouseOutBlur())\n      .on('click', (data, index, nodes) => this.barMouseClick(d3_event, data, index, nodes));\n\n    this.bars.raise();\n    this.mouseBars.raise();\n\n    if (!this.hideLegend) {\n      // TODO: refactor to use .join() with enter, update, exit\n      let legendItem = this.chart\n        .select('.legend')\n        .selectAll('.legend-item')\n        .data(this.dataStack);\n\n      legendItem.exit().remove();\n\n      // update existing items\n      legendItem.select('.legend-label').html(d => {\n        // return this.legendLabelFormat === null ? d.label : this.legendLabelFormat(d.label);\n        switch (this.legendLabelFormatType) {\n          case 'number':\n            return this.legendLabelFormat(d.key);\n\n          case 'time':\n            const parsedTime = d3_isoParse(d.key);\n            return this.legendLabelFormat(parsedTime);\n\n          default:\n            return d.key;\n        }\n      });\n\n      // legend items on enter\n      let enterLegendItem = legendItem\n        .enter()\n        .append('li')\n        .attr('class', 'legend-item');\n\n      enterLegendItem\n        .append('span')\n        .attr('class', 'legend-key')\n        .style('background-color', d => this.colorRange(d.index));\n\n      enterLegendItem\n        .append('span')\n        .attr('class', 'legend-label')\n        .html(d => {\n          // return this.legendLabelFormat === null ? d.label : this.legendLabelFormat(d.label);\n          switch (this.legendLabelFormatType) {\n            case 'number':\n              return this.legendLabelFormat(d.key);\n\n            case 'time':\n              const parsedTime = d3_isoParse(d.key);\n              return this.legendLabelFormat(parsedTime);\n\n            default:\n              return d.key;\n          }\n        });\n\n      enterLegendItem\n        .on('mouseover', (data, index, nodes) => this.legendMouseOver(d3_event, data, index, nodes))\n        .on('mouseout', () => this.legendMouseOut())\n        .on('click', (data, index, nodes) => this.legendMouseClick(d3_event, data, index, nodes));\n    }\n  };\n\n  barMouseOverFocus = (event, data, index, nodes) => {\n    this.chart\n      .selectAll('.bar-group')\n      .selectAll('.bar')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    this.tooltipShow(data, index, nodes[index]);\n\n    this.hovered.emit({ event, data });\n  };\n\n  barMouseOutBlur = () => {\n    this.chart.selectAll('.bar').classed('inactive', false);\n\n    this.tooltipHide();\n  };\n\n  barMouseClick = (event, data, index, nodes) => {\n    this.clicked.emit({ event, data });\n  };\n\n  legendMouseOver = (event, data, index, nodes) => {\n    this.chart\n      .selectAll('.legend-item')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    this.chart\n      .selectAll('.bar-group')\n      .filter((d, i) => i !== index)\n      .classed('inactive', true);\n\n    this.hovered.emit({ event, data });\n  };\n\n  legendMouseOut = () => {\n    this.chart.selectAll('.legend-item').classed('inactive', false);\n\n    this.chart.selectAll('.bar-group').classed('inactive', false);\n\n    this.tooltipHide();\n  };\n\n  legendMouseClick = (event, data, index, nodes) => {\n    this.clicked.emit({ event, data });\n  };\n\n  private xAxisFormatter = item => {\n    switch (this.xAxisFormatType) {\n      case 'number':\n        return this.xAxisFormat(item);\n\n      case 'time':\n        const parseDate = d3_isoParse(item);\n        return this.xAxisFormat(parseDate);\n\n      default:\n        return item;\n    }\n  };\n\n  private tooltipShow = (data, index, node) => {\n    // console.log('TOOLTIP: ', data, index, node);\n\n    const scroll = this._scroll.getScrollPosition();\n    const mouserectDimensions = node.getBoundingClientRect();\n    const clientWidth = document.body.clientWidth - 10;\n    let dimensionCalculated;\n    let tooltipDimensions;\n    let tooltipOffsetHeight;\n    let yPosition;\n    let xPosition;\n\n    // console.log(scroll, mouserectDimensions, tooltipOffsetHeight, tooltipDimensions, dimensionCalculated, clientWidth);\n\n    this.tooltip.select('.tooltip-header').html(d => {\n      switch (this.tooltipHeadingFormatType) {\n        case 'time':\n          const parseDate = d3_isoParse(data.key);\n          return this.tooltipHeadingFormat(parseDate);\n\n        default:\n          return data.key;\n      }\n    });\n\n    this.tooltip.select('.tooltip-header-value').html(d => {\n      let total = 0;\n\n      Object.keys(data).map(e => {\n        if (e !== 'key') {\n          total = total + data[e];\n        }\n      });\n\n      return this.tooltipHeadingValueFormat(total);\n    });\n\n    this.tooltip\n      .select('.tooltip-table')\n      .select('tbody')\n      .html(d => {\n        let html = ``;\n        let label;\n        let value;\n\n        Object.keys(data).map((key, index) => {\n          switch (this.tooltipLabelFormatType) {\n            case 'time':\n              const parseDate = d3_isoParse(key);\n              label = this.tooltipHeadingFormat(parseDate);\n              break;\n\n            default:\n              label = key;\n          }\n\n          switch (this.tooltipValueFormatType) {\n            case 'number':\n              value = this.tooltipValueFormat(data[key]);\n              break;\n\n            default:\n              value = data[key];\n          }\n\n          if (key !== 'key') {\n            html += `\n              <tr class='tooltip-item'>\n                <td style=\"color: ${this.colorRange(index - 1)}\">\n                  <span class=\"pbds-tooltip-key\"></span>\n                </td>\n                <td class=\"tooltip-label pr-2 text-nowrap\">${label}</td>\n                <td class=\"tooltip-value text-right text-nowrap\">${value}</td>\n              </tr>\n            `;\n          }\n        });\n\n        return html;\n      });\n\n    tooltipDimensions = this.tooltip.node().getBoundingClientRect();\n    dimensionCalculated = mouserectDimensions.left + mouserectDimensions.width + tooltipDimensions.width + 8;\n    tooltipOffsetHeight = +this.tooltip.node().offsetHeight;\n\n    // flip the tooltip positions if near the right edge of the screen\n    if (dimensionCalculated > clientWidth) {\n      this.tooltip.classed('east', true);\n      this.tooltip.classed('west', false);\n\n      if (this.type === 'medium') {\n        xPosition = `${mouserectDimensions.left + (mouserectDimensions.width / 8) * 3 - tooltipDimensions.width - 8}px`;\n      } else {\n        xPosition = `${mouserectDimensions.left + (mouserectDimensions.width / 4) * 1 - tooltipDimensions.width - 8}px`;\n      }\n    } else if (dimensionCalculated < clientWidth) {\n      this.tooltip.classed('east', false);\n      this.tooltip.classed('west', true);\n\n      if (this.type === 'medium') {\n        xPosition = `${mouserectDimensions.left + (mouserectDimensions.width / 8) * 5 + 8}px`;\n      } else {\n        xPosition = `${mouserectDimensions.left + (mouserectDimensions.width / 4) * 3 + 8}px`;\n      }\n    }\n\n    yPosition = this.svg\n      .selectAll('.bar-group')\n      .filter(':last-child')\n      .selectAll('.bar')\n      .filter((d, i) => i === index)\n      .node()\n      .getBoundingClientRect();\n\n    // set the tooltip styles\n    this.tooltip.style('top', `${yPosition.top - tooltipOffsetHeight / 2 + scroll[1]}px`);\n    this.tooltip.style('left', xPosition);\n    this.tooltip.style('opacity', 1);\n  };\n\n  private tooltipHide = () => {\n    this.tooltip.style('opacity', 0);\n  };\n\n  private yAxisFormatter = item => {\n    switch (this.yAxisFormatType) {\n      case 'number':\n        return this.yAxisFormat(item);\n\n      case 'time':\n        const parseDate = d3_isoParse(item);\n        return this.yAxisFormat(parseDate);\n\n      default:\n        return item;\n    }\n  };\n}\n","import { Component, OnInit, Input, HostBinding } from '@angular/core';\n\n@Component({\n  selector: 'pbds-dataviz-metric-indicator',\n  template: `\n    <span>{{ value }}</span>\n  `,\n  styles: []\n})\nexport class PbdsDatavizMetricIndicatorComponent implements OnInit {\n  @Input()\n  value = 0;\n\n  @Input()\n  class = '';\n\n  @Input()\n  indicator: 'flat' | 'increase' | 'decrease' = 'flat';\n\n  @Input()\n  inverse = false;\n\n  @HostBinding('class')\n  get hostClasses() {\n    return ['metric-block-indicator', this.indicator, this.inverse ? 'inverse' : '', this.class].join(' ');\n  }\n\n  constructor() {}\n\n  ngOnInit() {}\n}\n","import { Component, OnInit, Input, HostBinding, ElementRef, ContentChild } from '@angular/core';\n\nimport { PbdsDatavizMetricIndicatorComponent } from './dataviz-metric-indicator.component';\n\n@Component({\n  selector: 'pbds-dataviz-metric-block',\n  template: `\n    <ng-content select=\"pbds-dataviz-sparkline\"></ng-content>\n\n    <div class=\"metric-block-data\">\n      <div *ngIf=\"heading\" class=\"metric-block-heading\">{{ heading }}</div>\n\n      <div class=\"metric-block-value\" [ngClass]=\"{ 'mr-0': hideValueMargin }\">\n        {{ value\n        }}<span [ngClass]=\"{ 'metric-block-unit': isUnit, 'metric-block-percentage': isPercentUnit }\">{{ unit }}</span>\n      </div>\n\n      <ng-content select=\"pbds-dataviz-metric-indicator\"></ng-content>\n\n      <div *ngIf=\"description\" class=\"metric-block-description\">{{ description }}</div>\n    </div>\n  `,\n  styles: []\n})\nexport class PbdsDatavizMetricBlockComponent implements OnInit {\n  @Input()\n  class = '';\n\n  @Input()\n  heading: string = null;\n\n  @Input()\n  value = 0;\n\n  @Input()\n  unit: string = null;\n\n  @Input()\n  description: string = null;\n\n  @Input()\n  centered = false;\n\n  hideValueMargin = false;\n  isPercentUnit = false;\n  isUnit = false;\n\n  @HostBinding('class')\n  get hostClasses() {\n    return ['metric-block', this.centered ? 'metric-block-centered' : '', this.class].join(' ');\n  }\n\n  @ContentChild(PbdsDatavizMetricIndicatorComponent) indicatorRef: ElementRef;\n\n  constructor() {}\n\n  ngOnInit() {\n    if (!this.indicatorRef) {\n      this.hideValueMargin = true;\n    }\n\n    if (this.unit !== '%' && this.unit !== null) {\n      this.isUnit = true;\n    } else if (this.unit === '%') {\n      this.isPercentUnit = true;\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { PbdsDatavizPieComponent } from './dataviz-pie.component';\nimport { PbdsDatavizBarComponent } from './dataviz-bar.component';\nimport { PbdsDatavizLineComponent } from './dataviz-line.component';\nimport { PbdsDatavizGaugeComponent } from './dataviz-gauge.component';\nimport { PbdsDatavizSparklineComponent } from './dataviz-sparkline.component';\nimport { PbdsDatavizStackedBarComponent } from './dataviz-stacked-bar.component';\nimport { PbdsDatavizMetricBlockComponent } from './dataviz-metric-block.component';\nimport { PbdsDatavizMetricIndicatorComponent } from './dataviz-metric-indicator.component';\n\n@NgModule({\n  declarations: [\n    PbdsDatavizPieComponent,\n    PbdsDatavizBarComponent,\n    PbdsDatavizLineComponent,\n    PbdsDatavizGaugeComponent,\n    PbdsDatavizSparklineComponent,\n    PbdsDatavizStackedBarComponent,\n    PbdsDatavizMetricBlockComponent,\n    PbdsDatavizMetricIndicatorComponent\n  ],\n  imports: [CommonModule],\n  exports: [\n    PbdsDatavizPieComponent,\n    PbdsDatavizBarComponent,\n    PbdsDatavizLineComponent,\n    PbdsDatavizGaugeComponent,\n    PbdsDatavizSparklineComponent,\n    PbdsDatavizStackedBarComponent,\n    PbdsDatavizMetricBlockComponent,\n    PbdsDatavizMetricIndicatorComponent\n  ]\n})\nexport class PbdsDatavizModule {}\n","import { Directive, HostListener, HostBinding } from '@angular/core';\nimport { ViewportScroller } from '@angular/common';\n\n@Directive({\n  selector: 'header.bg-brand-header'\n})\nexport class PbdsHeaderShadowDirective {\n  @HostBinding('class.pbds-header-shadow')\n  shadow: boolean;\n\n  @HostListener('window:scroll', []) onWindowScroll() {\n    const offset = this._scroll.getScrollPosition();\n    this.shadow = offset[1] > 20;\n  }\n\n  constructor(private _scroll: ViewportScroller) {}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { PbdsHeaderShadowDirective } from './header-shadow.directive';\n\n@NgModule({\n  declarations: [PbdsHeaderShadowDirective],\n  imports: [CommonModule],\n  exports: [PbdsHeaderShadowDirective]\n})\nexport class PbdsHeaderShadowModule {}\n"],"names":["Injectable","EventEmitter","d3_isoParse","d3_event","d3_interpolate","d3_mouse","d3_format","d3_timeFormat","d3_scaleOrdinal","d3_pie","d3_arc","d3_select","Component","ChangeDetectionStrategy","ElementRef","HostBinding","Input","Output","d3_min","d3_max","d3_scaleBand","d3_axisBottom","d3_scaleLinear","d3_axisLeft","ViewportScroller","d3_extent","d3_bisectLeft","d3_isoFormat","d3_line","d3_curveCatmullRom","d3_area","d3_scaleTime","d3_stack","d3_stackOrderNone","ContentChild","NgModule","CommonModule","Directive","HostListener"],"mappings":"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"}
