!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3"),require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("pb-design-system",["exports","d3","@angular/core","@angular/common"],e):e(t["pb-design-system"]={},t["~5"][0][0],t.ng.core,t.ng.common)}(this,function(t,c,a,e){"use strict";var i=function(){function t(){var n=this;this.colors={mono:["#00436e","#005a93","#0072b8","#66aad4","#cce3f1","#e5f1f8"],theme:["#3e53a4","#cf0989","#009bdf","#ee6b0b","#edb700","#a03f9b","#00b140","#66c3ec","#c0c0c0","#f5a66d","#8b98c8","#aad88f"]},this.getColors=function(t){return t?n.colors.mono:n.colors.theme},this.createGradientDefs=function(t,e){for(var i=e?[n.colors.mono[2]]:n.colors.theme,a=0;a<i.length;a++){var s=e?n.colors.mono[2]:n.colors.theme[a],r=t.append("defs").append("linearGradient").attr("id","gradient-"+s.replace("#","")).attr("x1","0").attr("y1","0").attr("x2","0").attr("y2","1").attr("spreadMethod","pad");r.append("stop").attr("offset","0%").attr("stop-color",s).attr("stop-opacity","1"),r.append("stop").attr("offset","100%").attr("stop-color",s).attr("stop-opacity",".3")}return i},this.createGlowFilter=function(t){var e=t.append("defs").append("filter").attr("id","glow").attr("width","200%").attr("height","200%");e.append("feGaussianBlur").attr("in","SourceGraphic").attr("stdDeviation",4);for(var i=[{dy:2,slope:.2},{dy:5,slope:.05}],a=0;a<i.length;a++)e.append("feOffset").attr("result","offsetBlur"+a).attr("dx",0).attr("dy",i[a].dy);for(var s=0;s<i.length;s++)e.append("feComponentTransfer").attr("result","coloredBlur"+s).attr("in","offsetBlur"+s).append("feFuncA").attr("type","linear").attr("slope",i[s].slope);var r=e.append("feMerge");r.append("feMergeNode").attr("in","SourceGraphic");for(var n=0;n<i.length;n++)r.append("feMergeNode").attr("in","coloredBlur"+n)}}return t.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[]},t.ngInjectableDef=a.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),s=function(){function t(t,e){var r=this;this._dataviz=t,this._element=e,this.chartClass=!0,this.pieClass=!0,this.width=300,this.type="pie",this.mono=!1,this.tooltipFormatString="",this.legendFormatString="",this.hovered=new a.EventEmitter,this.clicked=new a.EventEmitter,this.legendMouseOverFocus=function(t,i,e){r.chart.selectAll(".legend-item").filter(function(t,e){return e!==i}).classed("inactive",!0)},this.legendMouseOutBlur=function(t,e,i){r.chart.selectAll(".legend-item").classed("inactive",!1)},this.pathMouseOver=function(t,i,e){var a=r.chart.selectAll(".slice"),s=a.filter(function(t,e){return e===i});r.chart.selectAll(".legend-item").filter(function(t,e){return e!==i}).classed("inactive",!0),a.filter(function(t,e){return e!==i}).classed("inactive",!0),s.transition().duration(300).delay(0).attrTween("d",function(e){var i=c.interpolate(e.outerRadius,r.outerRadius+r.arcZoom);return function(t){return e.outerRadius=i(t),r.arc(e)}}),r.hovered.emit(t.data?t.data:t)},this.pathMouseOut=function(t,i,e){var a=r.chart.selectAll(".slice"),s=a.filter(function(t,e){return e===i});r.chart.selectAll(".legend-item").filter(function(t,e){return e!==i}).classed("inactive",!1),a.classed("inactive",!1),s.transition().duration(300).delay(0).attrTween("d",function(e){var i=c.interpolate(e.outerRadius,r.outerRadius);return function(t){return e.outerRadius=i(t),r.arc(e)}})},this.pathClick=function(t,e,i){r.clicked.emit(t.data)},this.tooltipShow=function(t,e){r.tooltipSetPosition(t);var i=(e.endAngle-e.startAngle)/(2*Math.PI);r.tooltip.html('\n        <div class="tooltip-label">'+e.data.label+'</div>\n        <div class="tooltip-value">'+r.tooltipFormat(i)+"</div>\n      "),r.tooltip.style("opacity",1)},this.tooltipMove=function(t){r.tooltipSetPosition(t)},this.tooltipHide=function(){r.tooltip.style("opacity",0)},this.tooltipSetPosition=function(t){var e=c.mouse(t);r.tooltip.style("left",e[0]+16+"px"),r.tooltip.style("top",e[1]+16+"px")}}return t.prototype.ngOnInit=function(){var a=this;this.margin={top:10,right:10,bottom:10,left:10},this.width=this.width-this.margin.left-this.margin.right,this.height=this.width-this.margin.top-this.margin.bottom,this.colors=this._dataviz.getColors(this.mono),this.innerRadius=Math.min(this.width,this.height)/2.5,this.outerRadius=Math.min(this.width,this.height)/2,this.arcZoom=10,this.anglePad=.02,this.legendFormat=c.format(this.legendFormatString),this.tooltipFormat=c.format(this.tooltipFormatString),this.colorRange=c.scaleOrdinal().range(this.colors).domain(this.data.map(function(t){return t.label})),"pie"===this.type&&(this.innerRadius=0,this.anglePad=0),this.chart=c.select(this._element.nativeElement).attr("aria-hidden","true"),this.svg=this.chart.append("svg").attr("width",this.width).attr("height",this.height).attr("class","img-fluid").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","-"+(this.width/2+this.margin.left)+" -"+(this.height/2+this.margin.top)+" "+(this.width+this.margin.left+this.margin.right)+" "+(this.height+this.margin.top+this.margin.bottom)),this.pie=c.pie().padAngle(this.anglePad).value(function(t){return t.value}),this.arc=c.arc().padRadius(this.outerRadius).innerRadius(this.innerRadius),this.paths=this.svg.selectAll("path").data(this.pie(this.data)).enter().append("path").each(function(t){return t.outerRadius=a.outerRadius}).attr("d",this.arc).attr("fill",function(t){return a.colorRange(t.data.label)}).attr("class","slice"),"pie"===this.type&&this.paths.style("stroke","#fff").style("stroke-width",2).style("stroke-alignment","inner"),this.legend=this.chart.append("ul").attr("class","legend legend-right").selectAll("li").data(this.data).enter().append("li").attr("tabindex",0).attr("class","legend-item"),this.legend.append("span").attr("class","legend-key").style("background-color",function(t){return a.colorRange(t.label)});var t=this.legend.append("span").attr("class","legend-description");t.append("span").attr("class","legend-label").html(function(t){return t.label}),t.append("span").attr("class","legend-value").html(function(t){return a.legendFormat(t.value)}),this.legend.on("mouseover focus",function(t,e,i){a.legendMouseOverFocus(t,e,i),a.pathMouseOver(t,e,i)}).on("mouseout blur",function(t,e,i){a.legendMouseOutBlur(t,e,i),a.pathMouseOut(t,e,i)}).on("click",function(t,e,i){a.clicked.emit(t)}),this.paths.on("mouseover",function(t,e,i){a.pathMouseOver(t,e,i),a.tooltipShow(a.chart.node(),t)}).on("mousemove",function(t,e,i){a.tooltipMove(a.chart.node())}).on("mouseout",function(t,e,i){a.pathMouseOut(t,e,i),a.tooltipHide()}).on("click",function(t,e,i){a.pathClick(t,e,i)}),this.tooltip=this.chart.append("div").style("opacity",0).attr("class","pbds-tooltip").attr("aria-hidden","true")},t.prototype.ngOnChanges=function(t){(t.data&&!t.data.firstChange||t.mono&&!t.mono.firstChange)&&(this.chart.selectAll("svg").remove(),this.chart.selectAll("ul").remove(),this.chart.selectAll("div").remove(),this.ngOnInit())},t.decorators=[{type:a.Component,args:[{selector:"pbds-dataviz-pie",template:""}]}],t.ctorParameters=function(){return[{type:i},{type:a.ElementRef}]},t.propDecorators={chartClass:[{type:a.HostBinding,args:["class.pbds-chart"]}],pieClass:[{type:a.HostBinding,args:["class.pbds-chart-pie"]}],data:[{type:a.Input}],width:[{type:a.Input}],type:[{type:a.Input}],mono:[{type:a.Input}],tooltipFormatString:[{type:a.Input}],legendFormatString:[{type:a.Input}],hovered:[{type:a.Output}],clicked:[{type:a.Output}]},t}(),r=function(){function t(t,e,i){var h=this;this._dataviz=t,this._element=e,this._scroll=i,this.chartClass=!0,this.barClass=!0,this.width=306,this.height=400,this.type="medium",this.singleSeries=!1,this.xAxisFormatType=null,this.xAxisFormatString="",this.yAxisFormatType=null,this.yAxisFormatString="",this.yAxisTicks=5,this.yAxisMinBuffer=.01,this.yAxisMaxBuffer=.01,this.hideLegend=!1,this.legendWidth=133,this.legendPosition="right",this.legendLabelFormatType=null,this.legendLabelFormatString="",this.tooltipLabelFormatType=null,this.tooltipLabelFormatString="",this.tooltipValueFormatType=null,this.tooltipValueFormatString="",this.marginTop=0,this.marginRight=0,this.marginBottom=30,this.marginLeft=55,this.threshold=null,this.average=null,this.hovered=new a.EventEmitter,this.clicked=new a.EventEmitter,this.updateChart=function(){var t,e;(h.xAxisScale.domain(h.data.map(function(t){return t.label})),h.yAxisScale.domain([c.min(h.data,function(t){return t.value-t.value*+h.yAxisMinBuffer}),c.max(h.data,function(t){return t.value+t.value*+h.yAxisMaxBuffer})]).rangeRound([h.height,0]).nice(),h.xAxis.transition().duration(1e3).call(h.xAxisCall),h.yAxis.transition().duration(1e3).call(h.yAxisCall),h.hideXGrid||h.xGrid.transition().duration(1e3).call(h.xGridCall),h.hideYGrid||h.yGrid.transition().duration(1e3).call(h.yGridCall),h.hideGrayBars)?((t=h.svg.selectAll(".bar-group").data(h.data)).exit().remove(),t.select(".bar").attr("x",function(t){return h.xAxisScale(t.label)+h.xAxisScale.bandwidth()/5.5}).attr("width",h.xAxisScale.bandwidth()/1.5).transition().duration(1e3).attr("y",function(t){return h.yAxisScale(t.value)}).attr("height",function(t){return h.height-h.yAxisScale(t.value)}),(e=t.enter().append("g").attr("class","bar-group")).append("rect").attr("class","bar").attr("rx",2).attr("fill",function(t){return"url(#gradient-"+h.colorRange(t.label).substr(1)+")"}).attr("x",function(t){return h.xAxisScale(t.label)+h.xAxisScale.bandwidth()/5.5}).attr("width",h.xAxisScale.bandwidth()/1.5).attr("y",h.height).attr("height",0).transition().duration(1e3).attr("y",function(t){return h.yAxisScale(t.value)}).attr("height",function(t){return h.height-h.yAxisScale(t.value)}).attr("data-color",function(t){return h.colorRange(t.label)}),e.select(".bar").on("mouseover focus",function(t,e,i){return h.barMouseOverFocus(c.event,t,e,i)}).on("mouseout blur",function(){return h.barMouseOutBlur()}).on("click",function(t,e,i){return h.barMouseClick(c.event,t,e,i)})):((t=h.svg.selectAll(".bar-group").data(h.data)).exit().remove(),t.select(".gray-bar").transition().duration(1e3).attr("x",function(t){return h.xAxisScale(t.label)}).attr("width",h.xAxisScale.bandwidth()),t.select(".bar").transition().duration(1e3).attr("x",function(t){return h.xAxisScale(t.label)+h.xAxisScale.bandwidth()/4}).attr("width",h.xAxisScale.bandwidth()/2).attr("height",function(t){return h.height-h.yAxisScale(t.value)}).attr("y",function(t){return h.yAxisScale(t.value)}),(e=t.enter().append("g").attr("class","bar-group")).append("rect").attr("class","gray-bar").attr("rx",0).attr("height",0).attr("x",function(t){return h.xAxisScale(t.label)}).attr("width",h.xAxisScale.bandwidth()).transition().attr("height",h.height).attr("width",h.xAxisScale.bandwidth()),e.append("rect").attr("class","bar").attr("rx",2).attr("fill",function(t){return"url(#gradient-"+h.colorRange(t.label).substr(1)+")"}).attr("x",function(t){return h.xAxisScale(t.label)+h.xAxisScale.bandwidth()/4}).attr("width",h.xAxisScale.bandwidth()/2).attr("y",h.height).attr("height",0).transition().duration(1e3).attr("y",function(t){return h.yAxisScale(t.value)}).attr("height",function(t){return h.height-h.yAxisScale(t.value)}).attr("data-color",function(t){return h.colorRange(t.label)}),e.select(".bar").on("mouseover focus",function(t,e,i){return h.barMouseOverFocus(c.event,t,e,i)}).on("mouseout blur",function(t,e,i){return h.barMouseOutBlur()}).on("click",function(t,e,i){return h.barMouseClick(c.event,t,e,i)}));if(!h.hideLegend){var i=h.chart.select(".legend").selectAll(".legend-item").data(h.data);i.exit().remove(),i.select(".legend-label").html(function(t){switch(h.legendLabelFormatType){case"number":return h.legendLabelFormat(t.label);case"time":var e=c.isoParse(t.label);return h.legendLabelFormat(e);default:return t.label}});var a=i.enter().append("li").attr("class","legend-item");a.append("span").attr("class","legend-key").style("background-color",function(t){return h.colorRange(t.label)}),a.append("span").attr("class","legend-label").html(function(t){switch(h.legendLabelFormatType){case"number":return h.legendLabelFormat(t.label);case"time":var e=c.isoParse(t.label);return h.legendLabelFormat(e);default:return t.label}}),a.on("mouseover",function(t,e,i){return h.legendMouseOver(c.event,t,e,i)}).on("mouseout",function(){return h.legendMouseOut()}).on("click",function(t,e,i){return h.legendMouseClick(c.event,t,e,i)})}h.threshold&&h.yThreshold.raise().transition().duration(1e3).attr("transform","translate(0,  "+h.yAxisScale(+h.threshold)+")"),h.average&&h.yAverage.raise().transition().duration(1e3).attr("transform","translate(0,  "+h.yAxisScale(+h.average)+")")},this.barMouseOverFocus=function(t,e,i,a){h.chart.selectAll(".bar-group").filter(function(t,e){return e!==i}).classed("inactive",!0);var s=h.chart.selectAll(".bar-group").filter(function(t,e){return e===i}).select(".bar"),r=s.attr("data-color");s.style("fill",function(){return r}),h.chart.selectAll(".legend-item").filter(function(t,e){return e!==i}).classed("inactive",!0),h.tooltipShow(e,a.filter(function(t,e){return e===i})),h.hovered.emit({event:t,data:e})},this.barMouseOutBlur=function(){h.chart.selectAll(".bar-group").classed("inactive",!1).select(".bar").style("fill",null),h.chart.selectAll(".legend-item").classed("inactive",!1),h.tooltipHide()},this.barMouseClick=function(t,e,i,a){h.clicked.emit({event:t,data:e})},this.legendMouseOver=function(t,e,i,a){h.chart.selectAll(".legend-item").filter(function(t,e){return e!==i}).classed("inactive",!0),h.chart.selectAll(".bar-group").filter(function(t,e){return e!==i}).classed("inactive",!0);var s=h.chart.selectAll(".bar-group").filter(function(t,e){return e===i}).select(".bar"),r=s.attr("data-color");s.style("fill",function(){return r}),h.tooltipShow(e,h.chart.selectAll(".bar").filter(function(t,e){return e===i})._groups[0]),h.hovered.emit({event:t,data:e})},this.legendMouseOut=function(){h.chart.selectAll(".legend-item").classed("inactive",!1),h.chart.selectAll(".bar-group").classed("inactive",!1).select(".bar").style("fill",null),h.tooltipHide()},this.legendMouseClick=function(t,e,i,a){h.clicked.emit({event:t,data:e})},this.tooltipShow=function(t,e){var i,a=e[0].getBoundingClientRect(),s=h._scroll.getScrollPosition();switch(h.tooltipLabelFormatType){case"number":i=h.legendLabelFormat(t.label);break;case"time":var r=c.isoParse(t.label);i=h.legendLabelFormat(r);break;default:i=t.label}var n=null===h.tooltipValueFormat?'<div class="tooltip-value">'+t.value+"</div>":'<div class="tooltip-value">'+h.tooltipValueFormat(t.value)+"</div>";h.tooltip.html("\n        "+(h.hideTooltipLabel?"":""+i)+"\n        "+n+"\n      ");var o=+h.tooltip.node().offsetWidth/2,l=+h.tooltip.node().offsetHeight+8;h.tooltip.style("top",+s[1]+ +a.top-l+"px"),h.tooltip.style("left",+s[0]+ +a.left-o+ +a.width/2+"px"),h.tooltip.style("opacity",1)},this.tooltipHide=function(){h.tooltip.style("opacity",0)},this.xAxisFormatter=function(t){switch(h.xAxisFormatType){case"number":return h.xAxisFormat(t);case"time":var e=c.isoParse(t);return h.xAxisFormat(e);default:return t}},this.yAxisFormatter=function(t){switch(h.yAxisFormatType){case"number":return h.yAxisFormat(t);case"time":var e=c.isoParse(t);return h.yAxisFormat(e);default:return t}}}return t.prototype.ngOnInit=function(){var e=this;switch(this.margin={top:+this.marginTop,right:+this.marginRight,bottom:+this.marginBottom,left:+this.marginLeft},this.xAxisFormatType){case"number":this.xAxisFormat=c.format(this.xAxisFormatString);break;case"time":this.xAxisFormat=c.timeFormat(this.xAxisFormatString)}switch(this.yAxisFormatType){case"number":this.yAxisFormat=c.format(this.yAxisFormatString);break;case"time":this.yAxisFormat=c.timeFormat(this.yAxisFormatString)}switch(this.legendLabelFormatType){case"number":this.legendLabelFormat=c.format(this.legendLabelFormatString);break;case"time":this.legendLabelFormat=c.timeFormat(this.legendLabelFormatString);break;default:this.legendLabelFormat=null}switch(this.tooltipLabelFormatType){case"number":this.tooltipLabelFormat=c.format(this.tooltipLabelFormatString);break;case"time":this.tooltipLabelFormat=c.timeFormat(this.tooltipLabelFormatString);break;default:this.tooltipLabelFormat=null}switch(this.tooltipValueFormatType){case"number":this.tooltipValueFormat=c.format(this.tooltipValueFormatString);break;case"time":this.tooltipValueFormat=c.timeFormat(this.tooltipValueFormatString);break;default:this.tooltipValueFormat=null}if(this.hideGrayBars=!1,this.hideXAxis=!1,this.hideYAxis=!1,this.hideXAxisZero=!1,this.hideYAxisZero=!1,this.hideXGrid=!1,this.hideYGrid=!1,this.hideXAxisDomain=!1,this.hideYAxisDomain=!1,this.hideTooltip=!1,this.hideXAxisTicks=!1,this.hideYAxisTicks=!1,this.xAxisTickSize=8,this.xAxisTickSizeOuter=0,this.yAxisTickSize=8,this.yAxisTickSizeOuter=0,this.hideTooltipLabel=!1,"debug"!==this.type){switch(this.type){case"low":this.hideGrayBars=!0,this.hideXAxis=!this.hideLegend,this.hideXAxisTicks=!0,this.hideXGrid=!0,this.hideYAxisDomain=!1,this.hideYAxisTicks=!0,this.legendPosition="bottom",this.hideTooltipLabel=!0;break;case"medium":this.hideXAxisDomain=!0,this.hideXAxis=!this.hideLegend,this.hideXGrid=!0,this.hideXAxisTicks=!0,this.hideYAxisDomain=!0,this.hideYAxisTicks=!0,this.hideYGrid=!0,this.hideTooltipLabel=!0;break;case"high":this.hideXAxis=!0,this.hideXAxisDomain=!0,this.hideXGrid=!0,this.hideYAxisDomain=!0,this.hideYAxisTicks=!0,this.hideYGrid=!0,this.hideLegend=!0,this.hideTooltipLabel=!1}this.singleSeries&&(this.hideLegend=!0,this.hideXAxis=!0,this.hideXGrid=!0,this.hideTooltipLabel=!1)}this.hideXAxis&&(this.margin.bottom=10),this.hideLegend||"right"!==this.legendPosition||(this.width=+this.width-+this.legendWidth),this.chart=c.select(this._element.nativeElement).attr("aria-hidden","true"),this.svg=this.chart.append("svg").attr("width",+this.width).attr("height",+this.height+this.margin.top+this.margin.bottom).attr("class","img-fluid").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","-"+this.margin.left+" -"+this.margin.top+" "+ +this.width+" "+(+this.height+this.margin.top+this.margin.bottom)),this.colorRange=c.scaleOrdinal().range(this._dataviz.createGradientDefs(this.svg,this.singleSeries)),this.xAxisScale=c.scaleBand().domain(this.data.map(function(t){return t.label})).rangeRound([0,this.width-this.margin.left]).align(0),this.hideGrayBars?this.xAxisScale.paddingInner(0).paddingOuter(0):this.xAxisScale.paddingInner(.1).paddingOuter(0),this.xAxisCall=c.axisBottom(this.xAxisScale).tickSize(this.xAxisTickSize).tickSizeOuter(this.xAxisTickSizeOuter).tickFormat(this.xAxisFormatter),this.xAxis=this.svg.append("g").attr("class","axis axis-x").attr("transform","translate(0, "+this.height+")").classed("axis-hidden",this.hideXAxis).classed("axis-zero-hidden",this.hideXAxisZero).classed("axis-domain-hidden",this.hideXAxisDomain).classed("axis-ticks-hidden",this.hideXAxisTicks).call(this.xAxisCall),this.hideXGrid||(this.xGridCall=c.axisBottom(this.xAxisScale).tickSize(-this.height),this.xGrid=this.svg.append("g").attr("class","grid grid-x").classed("grid-zero-hidden",this.hideXAxisZero).attr("transform","translate(0, "+this.height+")").call(this.xGridCall)),this.yAxisScale=c.scaleLinear().domain([c.min(this.data,function(t){return t.value-t.value*+e.yAxisMinBuffer}),c.max(this.data,function(t){return t.value+t.value*+e.yAxisMaxBuffer})]).nice().rangeRound([this.height,0]),this.yAxisCall=c.axisLeft(this.yAxisScale).ticks(this.yAxisTicks).tickSize(this.yAxisTickSize).tickSizeOuter(this.yAxisTickSizeOuter).tickFormat(this.yAxisFormatter),this.yAxis=this.svg.append("g").attr("class","axis axis-y").classed("axis-hidden",this.hideYAxis).classed("axis-zero-hidden",this.hideYAxisZero).classed("axis-domain-hidden",this.hideYAxisDomain).classed("axis-ticks-hidden",this.hideYAxisTicks).call(this.yAxisCall),this.hideYGrid||(this.yGridCall=c.axisLeft(this.yAxisScale).ticks(this.yAxisTicks).tickSize(-this.width+this.margin.left+this.margin.right),this.yGrid=this.svg.append("g").attr("class","grid grid-y").classed("grid-zero-hidden",this.hideYAxisZero).attr("transform","translate(0, 0)").call(this.yGridCall)),this.threshold&&(this.yThreshold=this.svg.append("line").attr("class","threshold").attr("x2",+this.width).attr("transform","translate(0,  "+this.yAxisScale(+this.threshold)+")")),this.average&&(this.yAverage=this.svg.append("line").attr("class","average").attr("x2",+this.width).attr("transform","translate(0,  "+this.yAxisScale(+this.average)+")")),this.hideTooltip||(this.tooltip=c.select("body").append("div").attr("class","pbds-tooltip south").style("opacity",0).attr("aria-hidden","true")),this.hideLegend||(this.chart.classed("pbds-chart-legend-bottom","bottom"===this.legendPosition),this.chart.append("ul").attr("class","legend legend-"+this.legendPosition)),this.updateChart()},t.prototype.ngOnChanges=function(t){t.data&&!t.data.firstChange&&this.updateChart()},t.prototype.ngOnDestroy=function(){this.tooltip&&this.tooltip.remove()},t.decorators=[{type:a.Component,args:[{selector:"pbds-dataviz-bar",template:"",changeDetection:a.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:i},{type:a.ElementRef},{type:e.ViewportScroller}]},t.propDecorators={chartClass:[{type:a.HostBinding,args:["class.pbds-chart"]}],barClass:[{type:a.HostBinding,args:["class.pbds-chart-bar"]}],data:[{type:a.Input}],width:[{type:a.Input}],height:[{type:a.Input}],type:[{type:a.Input}],singleSeries:[{type:a.Input}],xAxisFormatType:[{type:a.Input}],xAxisFormatString:[{type:a.Input}],yAxisFormatType:[{type:a.Input}],yAxisFormatString:[{type:a.Input}],yAxisTicks:[{type:a.Input}],yAxisMinBuffer:[{type:a.Input}],yAxisMaxBuffer:[{type:a.Input}],hideLegend:[{type:a.Input}],legendWidth:[{type:a.Input}],legendPosition:[{type:a.Input}],legendLabelFormatType:[{type:a.Input}],legendLabelFormatString:[{type:a.Input}],tooltipLabelFormatType:[{type:a.Input}],tooltipLabelFormatString:[{type:a.Input}],tooltipValueFormatType:[{type:a.Input}],tooltipValueFormatString:[{type:a.Input}],marginTop:[{type:a.Input}],marginRight:[{type:a.Input}],marginBottom:[{type:a.Input}],marginLeft:[{type:a.Input}],threshold:[{type:a.Input}],average:[{type:a.Input}],hovered:[{type:a.Output}],clicked:[{type:a.Output}]},t}(),n=function(){function t(t,e,i){var d=this;this._dataviz=t,this._element=e,this._scroll=i,this.chartClass=!0,this.lineClass=!0,this.width=306,this.height=400,this.type="medium",this.area=!1,this.xAxisFormatString="",this.xAxisTicks=6,this.yAxisFormatString="",this.yAxisTicks=5,this.hideLegend=!1,this.legendWidth=133,this.legendPosition="right",this.legendLabelFormatType=null,this.legendLabelFormatString="",this.tooltipHeadingFormatString="",this.tooltipLabelFormatType=null,this.tooltipLabelFormatString="",this.tooltipValueFormatType=null,this.tooltipValueFormatString="",this.marginTop=10,this.marginRight=20,this.marginBottom=30,this.marginLeft=55,this.hovered=new a.EventEmitter,this.clicked=new a.EventEmitter,this.tooltipHovered=new a.EventEmitter,this.tooltipClicked=new a.EventEmitter,this.updateChart=function(){d.mouserect.data(d.data),d.xAxisScale.domain(c.extent(d.data.dates,function(t,e){return c.isoParse(t)})),d.yAxisScale.domain([c.min(d.data.series,function(t,e){return+c.min(t.values)}),c.max(d.data.series,function(t,e){return+c.max(t.values)})]).nice(),d.xAxis.transition().duration(1e3).call(d.xAxisCall),d.yAxis.transition().duration(1e3).call(d.yAxisCall),d.hideXGrid||d.xGrid.transition().duration(1e3).call(d.xGridCall),d.hideYGrid||d.yGrid.transition().duration(1e3).call(d.yGridCall);var t=d.svg.selectAll(".line-group").data(d.data.series);t.exit().remove(),t.select("path.line").transition().duration(1e3).attr("d",function(t){return d.d3line(t.values)}),d.area&&t.select("path.area").transition().duration(1e3).attr("d",function(t){return d.d3area(t.values)}),t.selectAll("circle").data(function(t){return t.values}).transition().duration(1e3).attr("cx",function(t,e){return d.xAxisScale(c.isoParse(d.data.dates[e]))}).attr("cy",function(t){return d.yAxisScale(t)});var e=t.enter().append("g").attr("class","line-group"),i=e.append("path").attr("class","line").style("color",function(t){return d.colorRange(t.label)}).style("stroke-width",d.lineWidth).transition().duration(1e3).attr("d",function(t){return d.d3line(t.values)});(d.area&&e.append("path").attr("class","area").attr("d",function(t){return d.d3area(t.values)}).style("color",function(t){return d.colorRange(t.label)}),d.linePoints)&&e.append("g").attr("class","points").style("color",function(t){return d.colorRange(t.label)}).selectAll("circle").data(function(t){return t.values}).enter().append("circle").attr("cx",function(t,e){return d.xAxisScale(c.isoParse(d.data.dates[e]))}).attr("cy",function(t){return d.yAxisScale(t)}).attr("r",2*d.lineWidth).style("stroke-width",d.lineWidth);if("high"!==d.type&&i.attr("filter","url(#glow)"),!d.hideLegend){var a=d.chart.select(".legend").selectAll(".legend-item").data(d.data.series);a.exit().remove(),a.select(".legend-label").html(function(t){switch(d.legendLabelFormatType){case"number":return d.legendLabelFormat(t.label);case"time":var e=c.isoParse(t.label);return d.legendLabelFormat(e);default:return t.label}});var s=a.enter().append("li").attr("class","legend-item");s.append("span").attr("class","legend-key").style("background-color",function(t){return d.colorRange(t.label)}),s.append("span").attr("class","legend-label").html(function(t){switch(d.legendLabelFormatType){case"number":return d.legendLabelFormat(t.label);case"time":var e=c.isoParse(t.label);return d.legendLabelFormat(e);default:return t.label}}),s.on("mouseover",function(t,e,i){return d.legendMouseOver(c.event,t,e,i)}).on("mouseout",function(){return d.legendMouseOut()}).on("click",function(t,e,i){return d.legendMouseClick(c.event,t,e,i)})}if(!d.hideTooltip){var r=d.tooltip.select(".tooltip-table").selectAll("tr").data(d.data.series);r.exit().remove(),r.select(".tooltip-label pr-2").html(function(t){return d.tooltipHeadingFormat(t.label)});var n=r.enter().append("tr").attr("class","tooltip-item");n.append("td").style("color",function(t){return d.colorRange(t.label)}).append("span").attr("class","pbds-tooltip-key"),n.append("td").attr("class","tooltip-label pr-2").html(function(t){return d.tooltipLabelFormatType?d.tooltipLabelFormat(t.label):t.label}),n.append("td").attr("class","tooltip-value text-right").html(function(t){return""})}d.mouserect.raise()},this.legendMouseOver=function(t,e,i,a){d.chart.selectAll(".legend-item").filter(function(t,e){return e!==i}).classed("inactive",!0),d.chart.selectAll(".line-group").filter(function(t,e){return e!==i}).classed("inactive",!0);var s=d.chart.selectAll(".line-group").filter(function(t,e){return e===i});(s.classed("active",!0),d.linePoints)&&s.selectAll("circle").classed("active",!0);d.hovered.emit({event:t,data:e})},this.legendMouseOut=function(){(d.chart.selectAll(".legend-item").classed("inactive",!1),d.chart.selectAll(".line-group").classed("inactive",!1).classed("active",!1),d.linePoints)&&d.chart.selectAll("circle").classed("active",!1)},this.legendMouseClick=function(t,e,i,a){d.clicked.emit({event:t,data:e})},this.mouserectMouseMove=function(t,e,i){var a=d.xAxisScale.invert(c.mouse(i[0])[0]),s=c.bisectLeft(d.data.dates,c.isoFormat(a));if(0===s)return!1;var r=new Date(d.data.dates[s-1]),n=new Date(d.data.dates[s]),o=+n-a<+a-+r?n:r,l=d.data.dates.indexOf(c.isoFormat(o)),h=d.svg.selectAll(".line-group").selectAll("circle");h.filter(function(t,e){return e===l}).classed("active",!0),h.filter(function(t,e){return e!==l}).classed("active",!1),d.tooltipLine.attr("x1",d.xAxisScale(o)).attr("x2",d.xAxisScale(o)).classed("active",!0),d.tooltipShow(d.tooltipLine.node(),l),d.mousedata={date:o,series:d.data.series.map(function(t){return{label:t.label,value:t.values[l]}})},d.tooltipHovered.emit({event:t,data:d.mousedata})},this.mouserectMouseOut=function(t,e,i){d.svg.selectAll("circle").classed("active",!1),d.tooltipLine.classed("active",!1),d.tooltipHide()},this.mouserectMouseClick=function(){d.tooltipClicked.emit({event:event,data:d.mousedata})},this.tooltipShow=function(t,i){var e=d._scroll.getScrollPosition(),a=t.getBoundingClientRect();d.tooltip.select(".tooltip-header").html(function(t){var e=c.isoParse(d.data.dates[i]);return d.tooltipHeadingFormat(e)}),d.tooltip.selectAll(".tooltip-value").html(function(t,e){return d.tooltipValueFormatType?d.tooltipValueFormat(d.data.series[e].values[i]):d.data.series[e].values[i]});var s=+d.tooltip.node().offsetHeight;d.tooltip.style("top",a.y+a.height/2-s/2+e[1]+"px"),d.tooltip.style("left",a.x+8+"px"),d.tooltip.style("opacity",1)},this.tooltipHide=function(){d.tooltip.style("opacity",0)},this.xAxisFormatter=function(t){var e=c.isoParse(t);return d.xAxisFormat(e)},this.yAxisFormatter=function(t){return d.yAxisFormat(t)}}return t.prototype.ngOnInit=function(){var a=this;switch(this.margin={top:+this.marginTop,right:+this.marginRight,bottom:+this.marginBottom,left:+this.marginLeft},this.xAxisFormat=c.timeFormat(this.xAxisFormatString),this.yAxisFormat=c.format(this.yAxisFormatString),this.legendLabelFormatType){case"number":this.legendLabelFormat=c.format(this.legendLabelFormatString);break;case"time":this.legendLabelFormat=c.timeFormat(this.legendLabelFormatString);break;default:this.legendLabelFormat=null}switch(this.tooltipHeadingFormat=c.timeFormat(this.tooltipHeadingFormatString),this.tooltipLabelFormatType){case"number":this.tooltipLabelFormat=c.format(this.tooltipLabelFormatString);break;case"time":this.tooltipLabelFormat=c.timeFormat(this.tooltipLabelFormatString);break;default:this.tooltipLabelFormat=null}switch(this.tooltipValueFormatType){case"number":this.tooltipValueFormat=c.format(this.tooltipValueFormatString);break;case"time":this.tooltipValueFormat=c.timeFormat(this.tooltipValueFormatString);break;default:this.tooltipValueFormat=null}if(this.lineWidth=3,this.lineCurved=!0,this.linePoints=!0,this.hideXAxis=!1,this.hideYAxis=!1,this.hideXAxisZero=!1,this.hideYAxisZero=!1,this.hideXGrid=!1,this.hideYGrid=!1,this.hideXAxisDomain=!1,this.hideYAxisDomain=!1,this.hideTooltip=!1,this.hideXAxisTicks=!1,this.hideYAxisTicks=!1,this.xAxisTickSize=8,this.xAxisTickSizeOuter=0,this.yAxisTickSize=8,this.yAxisTickSizeOuter=0,"debug"!==this.type)switch(this.type){case"medium":this.hideXGrid=!0,this.hideXAxisTicks=!0,this.hideYAxisTicks=!0,this.hideYGrid=!0;break;case"high":this.lineWidth=2,this.lineCurved=!1,this.linePoints=!1,this.hideXAxisTicks=!0,this.hideYAxisTicks=!0}(this.hideXAxis&&(this.margin.bottom=10),this.hideLegend||"right"!==this.legendPosition||(this.width=+this.width-+this.legendWidth),this.d3line=c.line().x(function(t,e){return a.xAxisScale(c.isoParse(a.data.dates[e]))}).y(function(t){return a.yAxisScale(t)}),this.lineCurved&&this.d3line.curve(c.curveCatmullRom.alpha(.5)),this.area&&(this.d3area=c.area().x(function(t,e){return a.xAxisScale(c.isoParse(a.data.dates[e]))}).y0(this.height).y1(function(t,e){return a.yAxisScale(t)}),this.lineCurved&&this.d3area.curve(c.curveCatmullRom.alpha(.5))),this.chart=c.select(this._element.nativeElement).attr("aria-hidden","true"),this.svg=this.chart.append("svg").attr("width",+this.width+this.margin.right).attr("height",+this.height+this.margin.top+this.margin.bottom).attr("class","img-fluid").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","-"+this.margin.left+" -"+this.margin.top+" "+(+this.width+this.margin.right)+" "+(+this.height+this.margin.top+this.margin.bottom)),this.mouserect=this.svg.append("rect").attr("width",this.width-this.margin.left-this.margin.right).attr("height",this.height).attr("class","mouserect").on("mousemove",function(t,e,i){return a.mouserectMouseMove(c.event,e,i)}).on("mouseout",function(t,e,i){return a.mouserectMouseOut(c.event,e,i)}).on("click",function(t,e,i){return a.mouserectMouseClick()}),this.tooltipLine=this.svg.append("line").attr("y1",0).attr("y2",this.height).attr("class","tooltip-line"),this.colorRange=c.scaleOrdinal().range(this._dataviz.getColors(!1)),this._dataviz.createGlowFilter(this.svg),this.xAxisScale=c.scaleTime().domain(c.extent(this.data.dates,function(t,e){return c.isoParse(t)})).range([0,this.width-this.margin.left-this.margin.right]),this.xAxisCall=c.axisBottom(this.xAxisScale).ticks(+this.xAxisTicks).tickSize(this.xAxisTickSize).tickSizeOuter(this.xAxisTickSizeOuter).tickFormat(this.xAxisFormatter),this.xAxis=this.svg.append("g").attr("class","axis axis-x").attr("transform","translate(0, "+this.height+")").classed("axis-hidden",this.hideXAxis).classed("axis-zero-hidden",this.hideXAxisZero).classed("axis-domain-hidden",this.hideXAxisDomain).classed("axis-ticks-hidden",this.hideXAxisTicks).call(this.xAxisCall),this.hideXGrid||(this.xGridCall=c.axisBottom(this.xAxisScale).tickSize(-this.height),this.xGrid=this.svg.append("g").attr("class","grid grid-x").classed("grid-zero-hidden",this.hideXAxisZero).attr("transform","translate(0, "+this.height+")").call(this.xGridCall)),this.yAxisScale=c.scaleLinear().domain([c.min(this.data.series,function(t,e){return+c.min(t.values)}),c.max(this.data.series,function(t,e){return+c.max(t.values)})]).nice().range([this.height,0]),this.yAxisCall=c.axisLeft(this.yAxisScale).ticks(this.yAxisTicks).tickSize(this.yAxisTickSize).tickSizeOuter(this.yAxisTickSizeOuter).tickFormat(this.yAxisFormatter),this.yAxis=this.svg.append("g").attr("class","axis axis-y").classed("axis-hidden",this.hideYAxis).classed("axis-zero-hidden",this.hideYAxisZero).classed("axis-domain-hidden",this.hideYAxisDomain).classed("axis-ticks-hidden",this.hideYAxisTicks).call(this.yAxisCall),this.hideYGrid||(this.yGridCall=c.axisLeft(this.yAxisScale).ticks(this.yAxisTicks).tickSize(-this.width+this.margin.left+this.margin.right),this.yGrid=this.svg.append("g").attr("class","grid grid-y").classed("grid-zero-hidden",this.hideYAxisZero).attr("transform","translate(0, 0)").call(this.yGridCall)),this.hideTooltip)||(this.tooltip=c.select("body").append("div").attr("class","pbds-tooltip west").style("opacity",0).attr("aria-hidden","true"),this.tooltip.append("div").attr("class","tooltip-header"),this.tooltip.append("table").attr("class","tooltip-table text-left w-100").append("tbody").selectAll("tr").data(this.data).enter().append("tr"));this.hideLegend||(this.chart.classed("pbds-chart-legend-bottom","bottom"===this.legendPosition),this.chart.append("ul").attr("class","legend legend-"+this.legendPosition)),this.updateChart()},t.prototype.ngOnChanges=function(t){t.data&&!t.data.firstChange&&this.updateChart()},t.prototype.ngOnDestroy=function(){this.tooltip&&this.tooltip.remove()},t.decorators=[{type:a.Component,args:[{selector:"pbds-dataviz-line",template:"",changeDetection:a.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:i},{type:a.ElementRef},{type:e.ViewportScroller}]},t.propDecorators={chartClass:[{type:a.HostBinding,args:["class.pbds-chart"]}],lineClass:[{type:a.HostBinding,args:["class.pbds-chart-line"]}],data:[{type:a.Input}],width:[{type:a.Input}],height:[{type:a.Input}],type:[{type:a.Input}],area:[{type:a.Input}],xAxisFormatString:[{type:a.Input}],xAxisTicks:[{type:a.Input}],yAxisFormatString:[{type:a.Input}],yAxisTicks:[{type:a.Input}],hideLegend:[{type:a.Input}],legendWidth:[{type:a.Input}],legendPosition:[{type:a.Input}],legendLabelFormatType:[{type:a.Input}],legendLabelFormatString:[{type:a.Input}],tooltipHeadingFormatString:[{type:a.Input}],tooltipLabelFormatType:[{type:a.Input}],tooltipLabelFormatString:[{type:a.Input}],tooltipValueFormatType:[{type:a.Input}],tooltipValueFormatString:[{type:a.Input}],marginTop:[{type:a.Input}],marginRight:[{type:a.Input}],marginBottom:[{type:a.Input}],marginLeft:[{type:a.Input}],hovered:[{type:a.Output}],clicked:[{type:a.Output}],tooltipHovered:[{type:a.Output}],tooltipClicked:[{type:a.Output}]},t}(),o=function(){function t(t,e){var s=this;this._dataviz=t,this._element=e,this.chartClass=!0,this.pieClass=!0,this.width=300,this.type="halfmoon",this.color="#cf0989",this.hideLabel=!1,this.labelFormatString="",this.labelSmall=!1,this.gaugeWidth=20,this.degreesToRadians=function(t){return t*Math.PI/180},this.calculateMinMax=function(){return s.data.minvalue/(s.data.maxvalue-s.data.minvalue)*(s.data.value-s.data.minvalue)+(s.data.value-s.data.minvalue)},this.calculateCurve=function(t){var e=s.degreesToRadians(s.startAngle);return[{startAngle:e,endAngle:e+t*(s.degreesToRadians(s.endAngle)-e)/s.data.maxvalue}]},this.drawChart=function(){s.gauge=s.svg.append("g").attr("class","gauge-group");s.gauge.append("path").data(s.calculateCurve(s.data.maxvalue)).attr("class","gauge-background").attr("fill",s.backgroundColor).attr("d",function(t){return s.arc({innerRadius:s.radius-s.gaugeWidth,outerRadius:s.radius,startAngle:t.startAngle,endAngle:t.endAngle})});switch(s.gauge.append("path").data(s.calculateCurve(s.calculateMinMax())).attr("class","gauge-value").attr("fill",s.color).attr("d",function(t){return s.arc({innerRadius:s.radius-s.gaugeWidth,outerRadius:s.radius,startAngle:t.startAngle,endAngle:t.endAngle})}),s.type){case"horseshoe":s.svg.attr("height",230).attr("viewBox","-"+s.width/2+" -"+s.height/2+" "+s.height+" 230");break;case"halfmoon":s.svg.attr("height",s.width/2),s.svg.attr("viewBox","-"+s.width/2+" -"+s.width/2+" "+s.width+" "+s.width/2)}},this.updateChart=function(){s.svg.select(".gauge-group").select(".gauge-value").transition().duration(750).call(s.arcTween,s.calculateMinMax()),s.labelTween=s.chart.select(".gauge-number"),s.labelTween.transition().duration(750).call(s.textTween,s.data.value)},this.arcTween=function(t,e){var a=s.calculateCurve(e);t.attrTween("d",function(e){var i=c.interpolate(e.endAngle,a[0].endAngle);return function(t){return e.endAngle=i(t),s.arc({innerRadius:s.radius-s.gaugeWidth,outerRadius:s.radius,startAngle:e.startAngle,endAngle:e.endAngle})}})},this.textTween=function(t,e){e=(e=c.format(".2f")(e)).replace(/,/g,"."),t.tween("text",function(){var a=c.interpolate(c.format(".2f")(+s.oldValue),e);return function(i){s.labelTween.text(function(t){var e=s.labelFormat(a(i));return s.label=e})}})}}return t.prototype.ngOnInit=function(){switch(this.height=this.width,this.radius=Math.max(this.width,this.height)/2,this.labelFormat=c.format(this.labelFormatString),this.backgroundColor="#F0F0F0",this.label=this.labelFormat(this.data.value),this.type){case"halfmoon":this.startAngle=-90,this.endAngle=90,this.rounded=!0;break;case"horseshoe":this.startAngle=-140,this.endAngle=140,this.rounded=!0;break;case"circle":this.startAngle=0,this.endAngle=360,this.rounded=!1}this.arc=c.arc().cornerRadius(this.rounded?this.gaugeWidth:0),this.chart=c.select(this._element.nativeElement).attr("aria-hidden","true"),this.svg=this.chart.append("svg").attr("width",this.width).attr("height",this.height).attr("class","img-fluid").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","-"+this.width/2+" -"+this.height/2+" "+this.width+" "+this.height),this.drawChart()},t.prototype.ngOnChanges=function(t){t.data&&!t.data.firstChange&&(this.oldValue=t.data.previousValue.value,this.updateChart())},t.decorators=[{type:a.Component,args:[{selector:"pbds-dataviz-gauge",template:'\n    <div\n      *ngIf="!hideLabel"\n      class="gauge-details"\n      [ngClass]="{ halfmoon: type === \'halfmoon\', \'gauge-details-small\': labelSmall }"\n    >\n      <div class="gauge-number">{{ label }}</div>\n      <div *ngIf="description" class="gauge-description text-center">{{ description }}</div>\n    </div>\n  '}]}],t.ctorParameters=function(){return[{type:i},{type:a.ElementRef}]},t.propDecorators={chartClass:[{type:a.HostBinding,args:["class.pbds-chart"]}],pieClass:[{type:a.HostBinding,args:["class.pbds-chart-gauge"]}],data:[{type:a.Input}],width:[{type:a.Input}],type:[{type:a.Input}],color:[{type:a.Input}],hideLabel:[{type:a.Input}],labelFormatString:[{type:a.Input}],labelSmall:[{type:a.Input}],description:[{type:a.Input}],gaugeWidth:[{type:a.Input}]},t}(),l=function(){function t(t){this._element=t,this.chartClass=!0,this.sparklineClass=!0,this.width=160,this.height=80,this.color="#cf0989",this.colorNegative="#3e53a4",this.type="line",this.strokeWidth=2,this.minBuffer=0,this.maxBuffer=0}return t.prototype.ngOnInit=function(){var e=this;this.margin={top:1,right:0,bottom:1,left:0},"bar"===this.type&&(this.margin={top:0,right:0,bottom:0,left:0});var i=c.scaleLinear().range([0,this.width-this.margin.left-this.margin.right]),a=c.scaleLinear().range([this.height-this.margin.top-this.margin.bottom,0]);a.domain([+c.min(this.data)-this.minBuffer,+c.max(this.data)+this.maxBuffer]),i.domain([0,this.data.length]);var t=c.line().x(function(t,e){return i(e)}).y(function(t){return a(t)}),s=c.area().x(function(t,e){return i(e)}).y0(this.height).y1(function(t){return a(t)});if(this.chart=c.select(this._element.nativeElement).attr("aria-hidden","true"),this.svg=this.chart.append("svg").attr("width",this.width).attr("height",this.height).attr("class","img-fluid").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","-"+this.margin.left+" -"+this.margin.top+" "+this.width+" "+this.height),"line"!==this.type&&"area"!==this.type||this.svg.append("path").datum(this.data).attr("class","sparkline").attr("fill","none").attr("stroke-width",this.strokeWidth).attr("stroke",this.color).attr("d",t),"area"===this.type&&this.svg.append("path").datum(this.data).attr("class","sparkarea").attr("fill",this.color).attr("fill-opacity",.3).attr("d",s),"bar"===this.type){var r=(this.width-this.data.length)/this.data.length;this.svg.selectAll(".bar").data(this.data).enter().append("rect").attr("class","sparkbar").attr("x",function(t,e){return i(e)}).attr("y",function(t){return a(0<t?t:0)}).attr("width",r).attr("height",function(t){return Math.abs(a(t)-a(0))}).attr("fill",function(t){return 0<t?e.color:e.colorNegative})}},t.decorators=[{type:a.Component,args:[{selector:"pbds-dataviz-sparkline",template:""}]}],t.ctorParameters=function(){return[{type:a.ElementRef}]},t.propDecorators={chartClass:[{type:a.HostBinding,args:["class.pbds-chart"]}],sparklineClass:[{type:a.HostBinding,args:["class.pbds-chart-sparkline"]}],data:[{type:a.Input}],width:[{type:a.Input}],height:[{type:a.Input}],color:[{type:a.Input}],colorNegative:[{type:a.Input}],type:[{type:a.Input}],strokeWidth:[{type:a.Input}],minBuffer:[{type:a.Input}],maxBuffer:[{type:a.Input}]},t}(),h=function(){function t(){}return t.decorators=[{type:a.NgModule,args:[{declarations:[s,r,n,o,l],imports:[e.CommonModule],exports:[s,r,n,o,l]}]}],t}(),d=function(){function t(t,e){this._scroll=t,this._element=e}return t.prototype.onWindowScroll=function(){var t=this._scroll.getScrollPosition();this.shadow=20<t[1]},t.prototype.ngAfterViewInit=function(){var e=this;this.item&&document.body.querySelector(""+this.item).addEventListener("scroll",function(t){e.shadow=20<t.srcElement.scrollTop})},t.decorators=[{type:a.Directive,args:[{selector:"[pbdsHeaderShadow]"}]}],t.ctorParameters=function(){return[{type:e.ViewportScroller},{type:a.ElementRef}]},t.propDecorators={shadow:[{type:a.HostBinding,args:["class.pbds-header-shadow"]}],item:[{type:a.Input,args:["pbdsHeaderShadow"]}],onWindowScroll:[{type:a.HostListener,args:["window:scroll",[]]}]},t}(),u=function(){function t(){}return t.decorators=[{type:a.NgModule,args:[{declarations:[d],imports:[e.CommonModule],exports:[d]}]}],t}();t.PbdsDatavizModule=h,t.PbdsDatavizService=i,t.PbdsDatavizBarComponent=r,t.PbdsDatavizLineComponent=n,t.PbdsDatavizPieComponent=s,t.PbdsDatavizGaugeComponent=o,t.PbdsDatavizSparklineComponent=l,t.PbdsHeaderShadowModule=u,t.PbdsHeaderShadowDirective=d,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=pb-design-system.umd.min.js.map